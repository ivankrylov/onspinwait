<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>New src/share/vm/classfile/vmSymbols.hpp</title>
<body id="SUNWwebrev">
<pre>
   1 /*
   2  * Copyright (c) 1997, 2015, Oracle and/or its affiliates. All rights reserved.
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.
   8  *
   9  * This code is distributed in the hope that it will be useful, but WITHOUT
  10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  12  * version 2 for more details (a copy is included in the LICENSE file that
  13  * accompanied this code).
  14  *
  15  * You should have received a copy of the GNU General Public License version
  16  * 2 along with this work; if not, write to the Free Software Foundation,
  17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18  *
  19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20  * or visit www.oracle.com if you need additional information or have any
  21  * questions.
  22  *
  23  */
  24 
  25 #ifndef SHARE_VM_CLASSFILE_VMSYMBOLS_HPP
  26 #define SHARE_VM_CLASSFILE_VMSYMBOLS_HPP
  27 
  28 #include "oops/symbol.hpp"
  29 #include "memory/iterator.hpp"
  30 #include "trace/traceMacros.hpp"
  31 
  32 // The class vmSymbols is a name space for fast lookup of
  33 // symbols commonly used in the VM.
  34 //
  35 // Sample usage:
  36 //
  37 //   Symbol* obj       = vmSymbols::java_lang_Object();
  38 
  39 
  40 // Useful sub-macros exported by this header file:
  41 
  42 #define VM_SYMBOL_ENUM_NAME(name)    name##_enum
  43 #define VM_INTRINSIC_IGNORE(id, class, name, sig, flags) /*ignored*/
  44 #define VM_SYMBOL_IGNORE(id, name)                       /*ignored*/
  45 #define VM_ALIAS_IGNORE(id, id2)                         /*ignored*/
  46 
  47 
  48 // Mapping function names to values. New entries should be added below.
  49 
  50 #define VM_SYMBOLS_DO(template, do_alias)                                                         \
  51   /* commonly used class names */                                                                 \
  52   template(java_lang_System,                          "java/lang/System")                         \
  53   template(java_lang_Object,                          "java/lang/Object")                         \
  54   template(java_lang_Class,                           "java/lang/Class")                          \
  55   template(java_lang_String,                          "java/lang/String")                         \
  56   template(java_lang_Thread,                          "java/lang/Thread")                         \
  57   template(java_lang_ThreadGroup,                     "java/lang/ThreadGroup")                    \
  58   template(java_lang_Cloneable,                       "java/lang/Cloneable")                      \
  59   template(java_lang_Throwable,                       "java/lang/Throwable")                      \
  60   template(java_lang_ClassLoader,                     "java/lang/ClassLoader")                    \
  61   template(java_lang_ClassLoader_NativeLibrary,       "java/lang/ClassLoader\x024NativeLibrary")  \
  62   template(java_lang_ThreadDeath,                     "java/lang/ThreadDeath")                    \
  63   template(java_lang_Boolean,                         "java/lang/Boolean")                        \
  64   template(java_lang_Character,                       "java/lang/Character")                      \
  65   template(java_lang_Character_CharacterCache,        "java/lang/Character$CharacterCache")       \
  66   template(java_lang_Float,                           "java/lang/Float")                          \
  67   template(java_lang_Double,                          "java/lang/Double")                         \
  68   template(java_lang_Byte,                            "java/lang/Byte")                           \
  69   template(java_lang_Byte_ByteCache,                  "java/lang/Byte$ByteCache")                 \
  70   template(java_lang_Short,                           "java/lang/Short")                          \
  71   template(java_lang_Short_ShortCache,                "java/lang/Short$ShortCache")               \
  72   template(java_lang_Integer,                         "java/lang/Integer")                        \
  73   template(java_lang_Integer_IntegerCache,            "java/lang/Integer$IntegerCache")           \
  74   template(java_lang_Long,                            "java/lang/Long")                           \
  75   template(java_lang_Long_LongCache,                  "java/lang/Long$LongCache")                 \
  76   template(java_lang_Shutdown,                        "java/lang/Shutdown")                       \
  77   template(java_lang_ref_Reference,                   "java/lang/ref/Reference")                  \
  78   template(java_lang_ref_SoftReference,               "java/lang/ref/SoftReference")              \
  79   template(java_lang_ref_WeakReference,               "java/lang/ref/WeakReference")              \
  80   template(java_lang_ref_FinalReference,              "java/lang/ref/FinalReference")             \
  81   template(java_lang_ref_PhantomReference,            "java/lang/ref/PhantomReference")           \
  82   template(sun_misc_Cleaner,                          "sun/misc/Cleaner")                         \
  83   template(java_lang_ref_Finalizer,                   "java/lang/ref/Finalizer")                  \
  84   template(java_lang_reflect_AccessibleObject,        "java/lang/reflect/AccessibleObject")       \
  85   template(java_lang_reflect_Method,                  "java/lang/reflect/Method")                 \
  86   template(java_lang_reflect_Constructor,             "java/lang/reflect/Constructor")            \
  87   template(java_lang_reflect_Field,                   "java/lang/reflect/Field")                  \
  88   template(java_lang_reflect_Parameter,               "java/lang/reflect/Parameter")              \
  89   template(java_lang_reflect_Array,                   "java/lang/reflect/Array")                  \
  90   template(java_lang_StringBuffer,                    "java/lang/StringBuffer")                   \
  91   template(java_lang_StringBuilder,                   "java/lang/StringBuilder")                  \
  92   template(java_lang_CharSequence,                    "java/lang/CharSequence")                   \
  93   template(java_lang_SecurityManager,                 "java/lang/SecurityManager")                \
  94   template(java_security_AccessControlContext,        "java/security/AccessControlContext")       \
  95   template(java_security_CodeSource,                  "java/security/CodeSource")                 \
  96   template(java_security_ProtectionDomain,            "java/security/ProtectionDomain")           \
  97   template(java_security_SecureClassLoader,           "java/security/SecureClassLoader")          \
  98   template(java_net_URLClassLoader,                   "java/net/URLClassLoader")                  \
  99   template(java_net_URL,                              "java/net/URL")                             \
 100   template(java_util_jar_Manifest,                    "java/util/jar/Manifest")                   \
 101   template(impliesCreateAccessControlContext_name,    "impliesCreateAccessControlContext")        \
 102   template(java_io_OutputStream,                      "java/io/OutputStream")                     \
 103   template(java_io_Reader,                            "java/io/Reader")                           \
 104   template(java_io_BufferedReader,                    "java/io/BufferedReader")                   \
 105   template(java_io_File,                              "java/io/File")                             \
 106   template(java_io_FileInputStream,                   "java/io/FileInputStream")                  \
 107   template(java_io_ByteArrayInputStream,              "java/io/ByteArrayInputStream")             \
 108   template(java_io_Serializable,                      "java/io/Serializable")                     \
 109   template(java_util_Arrays,                          "java/util/Arrays")                         \
 110   template(java_util_Properties,                      "java/util/Properties")                     \
 111   template(java_util_Vector,                          "java/util/Vector")                         \
 112   template(java_util_AbstractList,                    "java/util/AbstractList")                   \
 113   template(java_util_Hashtable,                       "java/util/Hashtable")                      \
 114   template(java_lang_Compiler,                        "java/lang/Compiler")                       \
 115   template(sun_misc_Signal,                           "sun/misc/Signal")                          \
 116   template(sun_misc_Launcher,                         "sun/misc/Launcher")                        \
 117   template(java_lang_AssertionStatusDirectives,       "java/lang/AssertionStatusDirectives")      \
 118   template(getBootClassPathEntryForClass_name,        "getBootClassPathEntryForClass")            \
 119   template(sun_misc_PostVMInitHook,                   "sun/misc/PostVMInitHook")                  \
 120   template(sun_misc_Launcher_ExtClassLoader,          "sun/misc/Launcher$ExtClassLoader")         \
 121                                                                                                   \
 122   /* Java runtime version access */                                                               \
 123   template(sun_misc_Version,                          "sun/misc/Version")                         \
 124   template(java_runtime_name_name,                    "java_runtime_name")                        \
 125   template(java_runtime_version_name,                 "java_runtime_version")                     \
 126                                                                                                   \
 127   /* class file format tags */                                                                    \
 128   template(tag_source_file,                           "SourceFile")                               \
 129   template(tag_inner_classes,                         "InnerClasses")                             \
 130   template(tag_constant_value,                        "ConstantValue")                            \
 131   template(tag_code,                                  "Code")                                     \
 132   template(tag_exceptions,                            "Exceptions")                               \
 133   template(tag_line_number_table,                     "LineNumberTable")                          \
 134   template(tag_local_variable_table,                  "LocalVariableTable")                       \
 135   template(tag_local_variable_type_table,             "LocalVariableTypeTable")                   \
 136   template(tag_method_parameters,                     "MethodParameters")                         \
 137   template(tag_stack_map_table,                       "StackMapTable")                            \
 138   template(tag_synthetic,                             "Synthetic")                                \
 139   template(tag_deprecated,                            "Deprecated")                               \
 140   template(tag_source_debug_extension,                "SourceDebugExtension")                     \
 141   template(tag_signature,                             "Signature")                                \
 142   template(tag_runtime_visible_annotations,           "RuntimeVisibleAnnotations")                \
 143   template(tag_runtime_invisible_annotations,         "RuntimeInvisibleAnnotations")              \
 144   template(tag_runtime_visible_parameter_annotations, "RuntimeVisibleParameterAnnotations")       \
 145   template(tag_runtime_invisible_parameter_annotations,"RuntimeInvisibleParameterAnnotations")    \
 146   template(tag_annotation_default,                    "AnnotationDefault")                        \
 147   template(tag_runtime_visible_type_annotations,      "RuntimeVisibleTypeAnnotations")            \
 148   template(tag_runtime_invisible_type_annotations,    "RuntimeInvisibleTypeAnnotations")          \
 149   template(tag_enclosing_method,                      "EnclosingMethod")                          \
 150   template(tag_bootstrap_methods,                     "BootstrapMethods")                         \
 151                                                                                                   \
 152   /* exception klasses: at least all exceptions thrown by the VM have entries here */             \
 153   template(java_lang_ArithmeticException,             "java/lang/ArithmeticException")            \
 154   template(java_lang_ArrayIndexOutOfBoundsException,  "java/lang/ArrayIndexOutOfBoundsException") \
 155   template(java_lang_ArrayStoreException,             "java/lang/ArrayStoreException")            \
 156   template(java_lang_ClassCastException,              "java/lang/ClassCastException")             \
 157   template(java_lang_ClassNotFoundException,          "java/lang/ClassNotFoundException")         \
 158   template(java_lang_CloneNotSupportedException,      "java/lang/CloneNotSupportedException")     \
 159   template(java_lang_IllegalAccessException,          "java/lang/IllegalAccessException")         \
 160   template(java_lang_IllegalArgumentException,        "java/lang/IllegalArgumentException")       \
 161   template(java_lang_IllegalStateException,           "java/lang/IllegalStateException")          \
 162   template(java_lang_IllegalMonitorStateException,    "java/lang/IllegalMonitorStateException")   \
 163   template(java_lang_IllegalThreadStateException,     "java/lang/IllegalThreadStateException")    \
 164   template(java_lang_IndexOutOfBoundsException,       "java/lang/IndexOutOfBoundsException")      \
 165   template(java_lang_InstantiationException,          "java/lang/InstantiationException")         \
 166   template(java_lang_InstantiationError,              "java/lang/InstantiationError")             \
 167   template(java_lang_InterruptedException,            "java/lang/InterruptedException")           \
 168   template(java_lang_BootstrapMethodError,            "java/lang/BootstrapMethodError")           \
 169   template(java_lang_LinkageError,                    "java/lang/LinkageError")                   \
 170   template(java_lang_NegativeArraySizeException,      "java/lang/NegativeArraySizeException")     \
 171   template(java_lang_NoSuchFieldException,            "java/lang/NoSuchFieldException")           \
 172   template(java_lang_NoSuchMethodException,           "java/lang/NoSuchMethodException")          \
 173   template(java_lang_NullPointerException,            "java/lang/NullPointerException")           \
 174   template(java_lang_StringIndexOutOfBoundsException, "java/lang/StringIndexOutOfBoundsException")\
 175   template(java_lang_UnsupportedOperationException,   "java/lang/UnsupportedOperationException")  \
 176   template(java_lang_InvalidClassException,           "java/lang/InvalidClassException")          \
 177   template(java_lang_reflect_InvocationTargetException, "java/lang/reflect/InvocationTargetException") \
 178   template(java_lang_Exception,                       "java/lang/Exception")                      \
 179   template(java_lang_RuntimeException,                "java/lang/RuntimeException")               \
 180   template(java_io_IOException,                       "java/io/IOException")                      \
 181   template(java_security_PrivilegedActionException,   "java/security/PrivilegedActionException")  \
 182                                                                                                   \
 183   /* error klasses: at least all errors thrown by the VM have entries here */                     \
 184   template(java_lang_AbstractMethodError,             "java/lang/AbstractMethodError")            \
 185   template(java_lang_ClassCircularityError,           "java/lang/ClassCircularityError")          \
 186   template(java_lang_ClassFormatError,                "java/lang/ClassFormatError")               \
 187   template(java_lang_UnsupportedClassVersionError,    "java/lang/UnsupportedClassVersionError")   \
 188   template(java_lang_Error,                           "java/lang/Error")                          \
 189   template(java_lang_ExceptionInInitializerError,     "java/lang/ExceptionInInitializerError")    \
 190   template(java_lang_IllegalAccessError,              "java/lang/IllegalAccessError")             \
 191   template(java_lang_IncompatibleClassChangeError,    "java/lang/IncompatibleClassChangeError")   \
 192   template(java_lang_InternalError,                   "java/lang/InternalError")                  \
 193   template(java_lang_NoClassDefFoundError,            "java/lang/NoClassDefFoundError")           \
 194   template(java_lang_NoSuchFieldError,                "java/lang/NoSuchFieldError")               \
 195   template(java_lang_NoSuchMethodError,               "java/lang/NoSuchMethodError")              \
 196   template(java_lang_OutOfMemoryError,                "java/lang/OutOfMemoryError")               \
 197   template(java_lang_UnsatisfiedLinkError,            "java/lang/UnsatisfiedLinkError")           \
 198   template(java_lang_VerifyError,                     "java/lang/VerifyError")                    \
 199   template(java_lang_SecurityException,               "java/lang/SecurityException")              \
 200   template(java_lang_VirtualMachineError,             "java/lang/VirtualMachineError")            \
 201   template(java_lang_StackOverflowError,              "java/lang/StackOverflowError")             \
 202   template(java_lang_StackTraceElement,               "java/lang/StackTraceElement")              \
 203                                                                                                   \
 204   /* Concurrency support */                                                                       \
 205   template(java_util_concurrent_locks_AbstractOwnableSynchronizer,   "java/util/concurrent/locks/AbstractOwnableSynchronizer") \
 206   template(sun_misc_Contended_signature,              "Lsun/misc/Contended;")                     \
 207                                                                                                   \
 208   /* class symbols needed by intrinsics */                                                        \
 209   VM_INTRINSICS_DO(VM_INTRINSIC_IGNORE, template, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE) \
 210                                                                                                   \
 211   /* Support for reflection based on dynamic bytecode generation (JDK 1.4 and above) */           \
 212                                                                                                   \
 213   template(sun_reflect_FieldInfo,                     "sun/reflect/FieldInfo")                    \
 214   template(sun_reflect_MethodInfo,                    "sun/reflect/MethodInfo")                   \
 215   template(sun_reflect_MagicAccessorImpl,             "sun/reflect/MagicAccessorImpl")            \
 216   template(sun_reflect_MethodAccessorImpl,            "sun/reflect/MethodAccessorImpl")           \
 217   template(sun_reflect_ConstructorAccessorImpl,       "sun/reflect/ConstructorAccessorImpl")      \
 218   template(sun_reflect_SerializationConstructorAccessorImpl, "sun/reflect/SerializationConstructorAccessorImpl") \
 219   template(sun_reflect_DelegatingClassLoader,         "sun/reflect/DelegatingClassLoader")        \
 220   template(sun_reflect_Reflection,                    "sun/reflect/Reflection")                   \
 221   template(sun_reflect_CallerSensitive,               "sun/reflect/CallerSensitive")              \
 222   template(sun_reflect_CallerSensitive_signature,     "Lsun/reflect/CallerSensitive;")            \
 223   template(checkedExceptions_name,                    "checkedExceptions")                        \
 224   template(clazz_name,                                "clazz")                                    \
 225   template(exceptionTypes_name,                       "exceptionTypes")                           \
 226   template(modifiers_name,                            "modifiers")                                \
 227   template(newConstructor_name,                       "newConstructor")                           \
 228   template(newConstructor_signature,                  "(Lsun/reflect/MethodInfo;)Ljava/lang/reflect/Constructor;") \
 229   template(newField_name,                             "newField")                                 \
 230   template(newField_signature,                        "(Lsun/reflect/FieldInfo;)Ljava/lang/reflect/Field;") \
 231   template(newMethod_name,                            "newMethod")                                \
 232   template(newMethod_signature,                       "(Lsun/reflect/MethodInfo;)Ljava/lang/reflect/Method;") \
 233   template(invokeBasic_name,                          "invokeBasic")                              \
 234   template(linkToVirtual_name,                        "linkToVirtual")                            \
 235   template(linkToStatic_name,                         "linkToStatic")                             \
 236   template(linkToSpecial_name,                        "linkToSpecial")                            \
 237   template(linkToInterface_name,                      "linkToInterface")                          \
 238   template(compiledLambdaForm_name,                   "&lt;compiledLambdaForm&gt;")  /*fake name*/      \
 239   template(star_name,                                 "*") /*not really a name*/                  \
 240   template(invoke_name,                               "invoke")                                   \
 241   template(override_name,                             "override")                                 \
 242   template(parameterTypes_name,                       "parameterTypes")                           \
 243   template(returnType_name,                           "returnType")                               \
 244   template(signature_name,                            "signature")                                \
 245   template(slot_name,                                 "slot")                                     \
 246                                                                                                   \
 247   /* Support for annotations (JDK 1.5 and above) */                                               \
 248                                                                                                   \
 249   template(annotations_name,                          "annotations")                              \
 250   template(index_name,                                "index")                                    \
 251   template(executable_name,                           "executable")                               \
 252   template(parameter_annotations_name,                "parameterAnnotations")                     \
 253   template(annotation_default_name,                   "annotationDefault")                        \
 254   template(sun_reflect_ConstantPool,                  "sun/reflect/ConstantPool")                 \
 255   template(ConstantPool_name,                         "constantPoolOop")                          \
 256   template(sun_reflect_UnsafeStaticFieldAccessorImpl, "sun/reflect/UnsafeStaticFieldAccessorImpl")\
 257   template(base_name,                                 "base")                                     \
 258   /* Type Annotations (JDK 8 and above) */                                                        \
 259   template(type_annotations_name,                     "typeAnnotations")                          \
 260                                                                                                   \
 261   /* Intrinsic Annotation (JDK 9 and above) */                                                    \
 262   template(jdk_internal_HotSpotIntrinsicCandidate_signature, "Ljdk/internal/HotSpotIntrinsicCandidate;") \
 263                                                                                                   \
 264   /* Support for JSR 292 &amp; invokedynamic (JDK 1.7 and above) */                                   \
 265   template(java_lang_invoke_CallSite,                 "java/lang/invoke/CallSite")                \
 266   template(java_lang_invoke_ConstantCallSite,         "java/lang/invoke/ConstantCallSite")        \
 267   template(java_lang_invoke_DirectMethodHandle,       "java/lang/invoke/DirectMethodHandle")      \
 268   template(java_lang_invoke_MutableCallSite,          "java/lang/invoke/MutableCallSite")         \
 269   template(java_lang_invoke_VolatileCallSite,         "java/lang/invoke/VolatileCallSite")        \
 270   template(java_lang_invoke_MethodHandle,             "java/lang/invoke/MethodHandle")            \
 271   template(java_lang_invoke_MethodType,               "java/lang/invoke/MethodType")              \
 272   template(java_lang_invoke_MethodType_signature,     "Ljava/lang/invoke/MethodType;")            \
 273   template(java_lang_invoke_MemberName_signature,     "Ljava/lang/invoke/MemberName;")            \
 274   template(java_lang_invoke_LambdaForm_signature,     "Ljava/lang/invoke/LambdaForm;")            \
 275   template(java_lang_invoke_MethodHandle_signature,   "Ljava/lang/invoke/MethodHandle;")          \
 276   /* internal classes known only to the JVM: */                                                   \
 277   template(java_lang_invoke_MemberName,               "java/lang/invoke/MemberName")              \
 278   template(java_lang_invoke_MethodHandleNatives,      "java/lang/invoke/MethodHandleNatives")     \
 279   template(java_lang_invoke_MethodHandleNatives_CallSiteContext, "java/lang/invoke/MethodHandleNatives$CallSiteContext") \
 280   template(java_lang_invoke_LambdaForm,               "java/lang/invoke/LambdaForm")              \
 281   template(java_lang_invoke_ForceInline_signature,    "Ljava/lang/invoke/ForceInline;")           \
 282   template(java_lang_invoke_DontInline_signature,     "Ljava/lang/invoke/DontInline;")            \
 283   template(java_lang_invoke_InjectedProfile_signature, "Ljava/lang/invoke/InjectedProfile;")      \
 284   template(java_lang_invoke_Stable_signature,         "Ljava/lang/invoke/Stable;")                \
 285   template(java_lang_invoke_LambdaForm_Compiled_signature, "Ljava/lang/invoke/LambdaForm$Compiled;") \
 286   template(java_lang_invoke_LambdaForm_Hidden_signature, "Ljava/lang/invoke/LambdaForm$Hidden;")  \
 287   template(java_lang_invoke_MethodHandleNatives_CallSiteContext_signature, "Ljava/lang/invoke/MethodHandleNatives$CallSiteContext;") \
 288   /* internal up-calls made only by the JVM, via class sun.invoke.MethodHandleNatives: */         \
 289   template(findMethodHandleType_name,                 "findMethodHandleType")                     \
 290   template(findMethodHandleType_signature,       "(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/invoke/MethodType;") \
 291   template(linkMethodHandleConstant_name,             "linkMethodHandleConstant")                 \
 292   template(linkMethodHandleConstant_signature, "(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/invoke/MethodHandle;") \
 293   template(linkMethod_name,                           "linkMethod")                               \
 294   template(linkMethod_signature, "(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;") \
 295   template(linkCallSite_name,                         "linkCallSite")                             \
 296   template(linkCallSite_signature, "(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;") \
 297   template(setTargetNormal_name,                      "setTargetNormal")                          \
 298   template(setTargetVolatile_name,                    "setTargetVolatile")                        \
 299   template(setTarget_signature,                       "(Ljava/lang/invoke/MethodHandle;)V")       \
 300   template(DEFAULT_CONTEXT_name,                      "DEFAULT_CONTEXT")                          \
 301   NOT_LP64(  do_alias(intptr_signature,               int_signature)  )                           \
 302   LP64_ONLY( do_alias(intptr_signature,               long_signature) )                           \
 303                                                                                                   \
 304   /* common method and field names */                                                             \
 305   template(object_initializer_name,                   "&lt;init&gt;")                                   \
 306   template(class_initializer_name,                    "&lt;clinit&gt;")                                 \
 307   template(println_name,                              "println")                                  \
 308   template(printStackTrace_name,                      "printStackTrace")                          \
 309   template(main_name,                                 "main")                                     \
 310   template(name_name,                                 "name")                                     \
 311   template(priority_name,                             "priority")                                 \
 312   template(stillborn_name,                            "stillborn")                                \
 313   template(group_name,                                "group")                                    \
 314   template(daemon_name,                               "daemon")                                   \
 315   template(eetop_name,                                "eetop")                                    \
 316   template(thread_status_name,                        "threadStatus")                             \
 317   template(run_method_name,                           "run")                                      \
 318   template(exit_method_name,                          "exit")                                     \
 319   template(add_method_name,                           "add")                                      \
 320   template(remove_method_name,                        "remove")                                   \
 321   template(parent_name,                               "parent")                                   \
 322   template(threads_name,                              "threads")                                  \
 323   template(groups_name,                               "groups")                                   \
 324   template(maxPriority_name,                          "maxPriority")                              \
 325   template(destroyed_name,                            "destroyed")                                \
 326   template(vmAllowSuspension_name,                    "vmAllowSuspension")                        \
 327   template(nthreads_name,                             "nthreads")                                 \
 328   template(ngroups_name,                              "ngroups")                                  \
 329   template(shutdown_method_name,                      "shutdown")                                 \
 330   template(finalize_method_name,                      "finalize")                                 \
 331   template(reference_lock_name,                       "lock")                                     \
 332   template(reference_discovered_name,                 "discovered")                               \
 333   template(run_finalization_name,                     "runFinalization")                          \
 334   template(run_finalizers_on_exit_name,               "runFinalizersOnExit")                      \
 335   template(dispatchUncaughtException_name,            "dispatchUncaughtException")                \
 336   template(initializeSystemClass_name,                "initializeSystemClass")                    \
 337   template(loadClass_name,                            "loadClass")                                \
 338   template(loadClassInternal_name,                    "loadClassInternal")                        \
 339   template(get_name,                                  "get")                                      \
 340   template(put_name,                                  "put")                                      \
 341   template(type_name,                                 "type")                                     \
 342   template(findNative_name,                           "findNative")                               \
 343   template(deadChild_name,                            "deadChild")                                \
 344   template(addClass_name,                             "addClass")                                 \
 345   template(throwIllegalAccessError_name,              "throwIllegalAccessError")                  \
 346   template(getFromClass_name,                         "getFromClass")                             \
 347   template(dispatch_name,                             "dispatch")                                 \
 348   template(getSystemClassLoader_name,                 "getSystemClassLoader")                     \
 349   template(fillInStackTrace_name,                     "fillInStackTrace")                         \
 350   template(getCause_name,                             "getCause")                                 \
 351   template(initCause_name,                            "initCause")                                \
 352   template(setProperty_name,                          "setProperty")                              \
 353   template(getProperty_name,                          "getProperty")                              \
 354   template(context_name,                              "context")                                  \
 355   template(privilegedContext_name,                    "privilegedContext")                        \
 356   template(contextClassLoader_name,                   "contextClassLoader")                       \
 357   template(inheritedAccessControlContext_name,        "inheritedAccessControlContext")            \
 358   template(isPrivileged_name,                         "isPrivileged")                             \
 359   template(isAuthorized_name,                         "isAuthorized")                             \
 360   template(getClassContext_name,                      "getClassContext")                          \
 361   template(wait_name,                                 "wait")                                     \
 362   template(checkPackageAccess_name,                   "checkPackageAccess")                       \
 363   template(stackSize_name,                            "stackSize")                                \
 364   template(thread_id_name,                            "tid")                                      \
 365   template(newInstance0_name,                         "newInstance0")                             \
 366   template(limit_name,                                "limit")                                    \
 367   template(member_name,                               "member")                                   \
 368   template(forName_name,                              "forName")                                  \
 369   template(forName0_name,                             "forName0")                                 \
 370   template(isJavaIdentifierStart_name,                "isJavaIdentifierStart")                    \
 371   template(isJavaIdentifierPart_name,                 "isJavaIdentifierPart")                     \
 372   template(exclusive_owner_thread_name,               "exclusiveOwnerThread")                     \
 373   template(park_blocker_name,                         "parkBlocker")                              \
 374   template(park_event_name,                           "nativeParkEventPointer")                   \
 375   template(cache_field_name,                          "cache")                                    \
 376   template(value_name,                                "value")                                    \
 377   template(offset_name,                               "offset")                                   \
 378   template(count_name,                                "count")                                    \
 379   template(hash_name,                                 "hash")                                     \
 380   template(numberOfLeadingZeros_name,                 "numberOfLeadingZeros")                     \
 381   template(numberOfTrailingZeros_name,                "numberOfTrailingZeros")                    \
 382   template(bitCount_name,                             "bitCount")                                 \
 383   template(profile_name,                              "profile")                                  \
 384   template(equals_name,                               "equals")                                   \
 385   template(target_name,                               "target")                                   \
 386   template(toString_name,                             "toString")                                 \
 387   template(values_name,                               "values")                                   \
 388   template(receiver_name,                             "receiver")                                 \
 389   template(vmtarget_name,                             "vmtarget")                                 \
 390   template(next_target_name,                          "next_target")                              \
 391   template(vmloader_name,                             "vmloader")                                 \
 392   template(vmindex_name,                              "vmindex")                                  \
 393   template(vmcount_name,                              "vmcount")                                  \
 394   template(vmentry_name,                              "vmentry")                                  \
 395   template(flags_name,                                "flags")                                    \
 396   template(rtype_name,                                "rtype")                                    \
 397   template(ptypes_name,                               "ptypes")                                   \
 398   template(form_name,                                 "form")                                     \
 399   template(basicType_name,                            "basicType")                                \
 400   template(append_name,                               "append")                                   \
 401   template(klass_name,                                "klass")                                    \
 402   template(array_klass_name,                          "array_klass")                              \
 403   template(oop_size_name,                             "oop_size")                                 \
 404   template(static_oop_field_count_name,               "static_oop_field_count")                   \
 405   template(protection_domain_name,                    "protection_domain")                        \
 406   template(signers_name,                              "signers_name")                             \
 407   template(loader_data_name,                          "loader_data")                              \
 408   template(vmdependencies_name,                       "vmdependencies")                           \
 409   template(input_stream_void_signature,               "(Ljava/io/InputStream;)V")                 \
 410   template(getFileURL_name,                           "getFileURL")                               \
 411   template(getFileURL_signature,                      "(Ljava/io/File;)Ljava/net/URL;")           \
 412   template(definePackageInternal_name,                "definePackageInternal")                    \
 413   template(definePackageInternal_signature,           "(Ljava/lang/String;Ljava/util/jar/Manifest;Ljava/net/URL;)V") \
 414   template(getProtectionDomain_name,                  "getProtectionDomain")                      \
 415   template(getProtectionDomain_signature,             "(Ljava/security/CodeSource;)Ljava/security/ProtectionDomain;") \
 416   template(url_code_signer_array_void_signature,      "(Ljava/net/URL;[Ljava/security/CodeSigner;)V") \
 417                                                                                                   \
 418   /* non-intrinsic name/signature pairs: */                                                       \
 419   template(register_method_name,                      "register")                                 \
 420   do_alias(register_method_signature,         object_void_signature)                              \
 421                                                                                                   \
 422   /* name symbols needed by intrinsics */                                                         \
 423   VM_INTRINSICS_DO(VM_INTRINSIC_IGNORE, VM_SYMBOL_IGNORE, template, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE) \
 424                                                                                                   \
 425   /* common signatures names */                                                                   \
 426   template(void_method_signature,                     "()V")                                      \
 427   template(void_boolean_signature,                    "()Z")                                      \
 428   template(void_byte_signature,                       "()B")                                      \
 429   template(void_char_signature,                       "()C")                                      \
 430   template(void_short_signature,                      "()S")                                      \
 431   template(void_int_signature,                        "()I")                                      \
 432   template(void_long_signature,                       "()J")                                      \
 433   template(void_float_signature,                      "()F")                                      \
 434   template(void_double_signature,                     "()D")                                      \
 435   template(int_void_signature,                        "(I)V")                                     \
 436   template(int_int_signature,                         "(I)I")                                     \
 437   template(char_char_signature,                       "(C)C")                                     \
 438   template(short_short_signature,                     "(S)S")                                     \
 439   template(int_bool_signature,                        "(I)Z")                                     \
 440   template(float_int_signature,                       "(F)I")                                     \
 441   template(double_long_signature,                     "(D)J")                                     \
 442   template(double_double_signature,                   "(D)D")                                     \
 443   template(int_float_signature,                       "(I)F")                                     \
 444   template(long_int_signature,                        "(J)I")                                     \
 445   template(long_long_signature,                       "(J)J")                                     \
 446   template(long_double_signature,                     "(J)D")                                     \
 447   template(byte_signature,                            "B")                                        \
 448   template(char_signature,                            "C")                                        \
 449   template(double_signature,                          "D")                                        \
 450   template(float_signature,                           "F")                                        \
 451   template(int_signature,                             "I")                                        \
 452   template(long_signature,                            "J")                                        \
 453   template(short_signature,                           "S")                                        \
 454   template(bool_signature,                            "Z")                                        \
 455   template(void_signature,                            "V")                                        \
 456   template(byte_array_signature,                      "[B")                                       \
 457   template(char_array_signature,                      "[C")                                       \
 458   template(int_array_signature,                       "[I")                                       \
 459   template(object_void_signature,                     "(Ljava/lang/Object;)V")                    \
 460   template(object_int_signature,                      "(Ljava/lang/Object;)I")                    \
 461   template(object_boolean_signature,                  "(Ljava/lang/Object;)Z")                    \
 462   template(object_object_signature,                   "(Ljava/lang/Object;)Ljava/lang/Object;")   \
 463   template(string_void_signature,                     "(Ljava/lang/String;)V")                    \
 464   template(string_int_signature,                      "(Ljava/lang/String;)I")                    \
 465   template(throwable_void_signature,                  "(Ljava/lang/Throwable;)V")                 \
 466   template(void_throwable_signature,                  "()Ljava/lang/Throwable;")                  \
 467   template(throwable_throwable_signature,             "(Ljava/lang/Throwable;)Ljava/lang/Throwable;")             \
 468   template(class_void_signature,                      "(Ljava/lang/Class;)V")                     \
 469   template(class_int_signature,                       "(Ljava/lang/Class;)I")                     \
 470   template(class_long_signature,                      "(Ljava/lang/Class;)J")                     \
 471   template(class_boolean_signature,                   "(Ljava/lang/Class;)Z")                     \
 472   template(throwable_string_void_signature,           "(Ljava/lang/Throwable;Ljava/lang/String;)V")               \
 473   template(string_array_void_signature,               "([Ljava/lang/String;)V")                                   \
 474   template(string_array_string_array_void_signature,  "([Ljava/lang/String;[Ljava/lang/String;)V")                \
 475   template(thread_throwable_void_signature,           "(Ljava/lang/Thread;Ljava/lang/Throwable;)V")               \
 476   template(thread_void_signature,                     "(Ljava/lang/Thread;)V")                                    \
 477   template(threadgroup_runnable_void_signature,       "(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;)V")           \
 478   template(threadgroup_string_void_signature,         "(Ljava/lang/ThreadGroup;Ljava/lang/String;)V")             \
 479   template(string_class_signature,                    "(Ljava/lang/String;)Ljava/lang/Class;")                    \
 480   template(object_object_object_signature,            "(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;") \
 481   template(string_string_string_signature,            "(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;") \
 482   template(string_string_signature,                   "(Ljava/lang/String;)Ljava/lang/String;")                   \
 483   template(classloader_string_long_signature,         "(Ljava/lang/ClassLoader;Ljava/lang/String;)J")             \
 484   template(byte_array_void_signature,                 "([B)V")                                                    \
 485   template(char_array_void_signature,                 "([C)V")                                                    \
 486   template(int_int_void_signature,                    "(II)V")                                                    \
 487   template(long_long_void_signature,                  "(JJ)V")                                                    \
 488   template(void_classloader_signature,                "()Ljava/lang/ClassLoader;")                                \
 489   template(void_object_signature,                     "()Ljava/lang/Object;")                                     \
 490   template(void_class_signature,                      "()Ljava/lang/Class;")                                      \
 491   template(void_class_array_signature,                "()[Ljava/lang/Class;")                                     \
 492   template(void_string_signature,                     "()Ljava/lang/String;")                                     \
 493   template(object_array_object_signature,             "([Ljava/lang/Object;)Ljava/lang/Object;")                  \
 494   template(object_object_array_object_signature,      "(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;")\
 495   template(exception_void_signature,                  "(Ljava/lang/Exception;)V")                                 \
 496   template(protectiondomain_signature,                "[Ljava/security/ProtectionDomain;")                        \
 497   template(accesscontrolcontext_signature,            "Ljava/security/AccessControlContext;")                     \
 498   template(class_protectiondomain_signature,          "(Ljava/lang/Class;Ljava/security/ProtectionDomain;)V")     \
 499   template(thread_signature,                          "Ljava/lang/Thread;")                                       \
 500   template(thread_array_signature,                    "[Ljava/lang/Thread;")                                      \
 501   template(threadgroup_signature,                     "Ljava/lang/ThreadGroup;")                                  \
 502   template(threadgroup_array_signature,               "[Ljava/lang/ThreadGroup;")                                 \
 503   template(class_array_signature,                     "[Ljava/lang/Class;")                                       \
 504   template(classloader_signature,                     "Ljava/lang/ClassLoader;")                                  \
 505   template(object_signature,                          "Ljava/lang/Object;")                                       \
 506   template(class_signature,                           "Ljava/lang/Class;")                                        \
 507   template(string_signature,                          "Ljava/lang/String;")                                       \
 508   template(reference_signature,                       "Ljava/lang/ref/Reference;")                                \
 509   template(sun_misc_Cleaner_signature,                "Lsun/misc/Cleaner;")                                       \
 510   template(executable_signature,                      "Ljava/lang/reflect/Executable;")                           \
 511   template(concurrenthashmap_signature,               "Ljava/util/concurrent/ConcurrentHashMap;")                 \
 512   template(String_StringBuilder_signature,            "(Ljava/lang/String;)Ljava/lang/StringBuilder;")            \
 513   template(int_StringBuilder_signature,               "(I)Ljava/lang/StringBuilder;")                             \
 514   template(char_StringBuilder_signature,              "(C)Ljava/lang/StringBuilder;")                             \
 515   template(String_StringBuffer_signature,             "(Ljava/lang/String;)Ljava/lang/StringBuffer;")             \
 516   template(int_StringBuffer_signature,                "(I)Ljava/lang/StringBuffer;")                              \
 517   template(char_StringBuffer_signature,               "(C)Ljava/lang/StringBuffer;")                              \
 518   template(int_String_signature,                      "(I)Ljava/lang/String;")                                    \
 519   template(codesource_permissioncollection_signature, "(Ljava/security/CodeSource;Ljava/security/PermissionCollection;)V") \
 520   /* signature symbols needed by intrinsics */                                                                    \
 521   VM_INTRINSICS_DO(VM_INTRINSIC_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, template, VM_ALIAS_IGNORE)            \
 522                                                                                                                   \
 523   /* symbol aliases needed by intrinsics */                                                                       \
 524   VM_INTRINSICS_DO(VM_INTRINSIC_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, do_alias)           \
 525                                                                                                                   \
 526   /* returned by the C1 compiler in case there's not enough memory to allocate a new symbol*/                     \
 527   template(dummy_symbol,                              "illegal symbol")                                           \
 528                                                                                                                   \
 529   /* used by ClassFormatError when class name is not known yet */                                                 \
 530   template(unknown_class_name,                        "&lt;Unknown&gt;")                                                \
 531                                                                                                                   \
 532   /* used to identify class loaders handling parallel class loading */                                            \
 533   template(parallelCapable_name,                      "parallelLockMap")                                          \
 534                                                                                                                   \
 535   /* JVM monitoring and management support */                                                                     \
 536   template(java_lang_StackTraceElement_array,          "[Ljava/lang/StackTraceElement;")                          \
 537   template(java_lang_management_ThreadState,           "java/lang/management/ThreadState")                        \
 538   template(java_lang_management_MemoryUsage,           "java/lang/management/MemoryUsage")                        \
 539   template(java_lang_management_ThreadInfo,            "java/lang/management/ThreadInfo")                         \
 540   template(sun_management_Sensor,                      "sun/management/Sensor")                                   \
 541   template(sun_management_Agent,                       "sun/management/Agent")                                    \
 542   template(com_sun_management_internal_DiagnosticCommandImpl,  "com/sun/management/internal/DiagnosticCommandImpl")     \
 543   template(com_sun_management_internal_GarbageCollectorExtImpl,"com/sun/management/internal/GarbageCollectorExtImpl")   \
 544   template(sun_management_ManagementFactoryHelper,     "sun/management/ManagementFactoryHelper")                  \
 545   template(getDiagnosticCommandMBean_name,             "getDiagnosticCommandMBean")                               \
 546   template(getDiagnosticCommandMBean_signature,        "()Lcom/sun/management/DiagnosticCommandMBean;")           \
 547   template(getGcInfoBuilder_name,                      "getGcInfoBuilder")                                        \
 548   template(getGcInfoBuilder_signature,                 "()Lcom/sun/management/internal/GcInfoBuilder;")           \
 549   template(com_sun_management_GcInfo,                  "com/sun/management/GcInfo")                               \
 550   template(com_sun_management_GcInfo_constructor_signature, "(Lcom/sun/management/internal/GcInfoBuilder;JJJ[Ljava/lang/management/MemoryUsage;[Ljava/lang/management/MemoryUsage;[Ljava/lang/Object;)V") \
 551   template(createGCNotification_name,                  "createGCNotification")                                    \
 552   template(createGCNotification_signature,             "(JLjava/lang/String;Ljava/lang/String;Ljava/lang/String;Lcom/sun/management/GcInfo;)V") \
 553   template(createDiagnosticFrameworkNotification_name, "createDiagnosticFrameworkNotification")                   \
 554   template(createMemoryPoolMBean_name,                 "createMemoryPoolMBean")                                   \
 555   template(createMemoryManagerMBean_name,              "createMemoryManagerMBean")                                \
 556   template(createGarbageCollectorMBean_name,           "createGarbageCollectorMBean")                             \
 557   template(createMemoryPoolMBean_signature,            "(Ljava/lang/String;ZJJ)Ljava/lang/management/MemoryPoolMBean;") \
 558   template(createMemoryManagerMBean_signature,         "(Ljava/lang/String;)Ljava/lang/management/MemoryManagerMBean;") \
 559   template(createGarbageCollectorMBean_signature,      "(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/management/GarbageCollectorMBean;") \
 560   template(trigger_name,                               "trigger")                                                 \
 561   template(clear_name,                                 "clear")                                                   \
 562   template(trigger_method_signature,                   "(ILjava/lang/management/MemoryUsage;)V")                  \
 563   template(startAgent_name,                            "startAgent")                                              \
 564   template(startRemoteAgent_name,                      "startRemoteManagementAgent")                              \
 565   template(startLocalAgent_name,                       "startLocalManagementAgent")                               \
 566   template(stopRemoteAgent_name,                       "stopRemoteManagementAgent")                               \
 567   template(getAgentStatus_name,                        "getManagementAgentStatus")                                \
 568   template(java_lang_management_ThreadInfo_constructor_signature, "(Ljava/lang/Thread;ILjava/lang/Object;Ljava/lang/Thread;JJJJ[Ljava/lang/StackTraceElement;)V") \
 569   template(java_lang_management_ThreadInfo_with_locks_constructor_signature, "(Ljava/lang/Thread;ILjava/lang/Object;Ljava/lang/Thread;JJJJ[Ljava/lang/StackTraceElement;[Ljava/lang/Object;[I[Ljava/lang/Object;)V") \
 570   template(long_long_long_long_void_signature,         "(JJJJ)V")                                                 \
 571   template(finalizer_histogram_klass,                  "java/lang/ref/FinalizerHistogram")                        \
 572   template(void_finalizer_histogram_entry_array_signature,  "()[Ljava/lang/ref/FinalizerHistogram$Entry;")                        \
 573   template(get_finalizer_histogram_name,               "getFinalizerHistogram")                                   \
 574   template(finalizer_histogram_entry_name_field,       "className")                                               \
 575   template(finalizer_histogram_entry_count_field,      "instanceCount")                                           \
 576                                                                                                                   \
 577   template(java_lang_management_MemoryPoolMXBean,      "java/lang/management/MemoryPoolMXBean")                   \
 578   template(java_lang_management_MemoryManagerMXBean,   "java/lang/management/MemoryManagerMXBean")                \
 579   template(java_lang_management_GarbageCollectorMXBean,"java/lang/management/GarbageCollectorMXBean")             \
 580   template(gcInfoBuilder_name,                         "gcInfoBuilder")                                           \
 581   template(createMemoryPool_name,                      "createMemoryPool")                                        \
 582   template(createMemoryManager_name,                   "createMemoryManager")                                     \
 583   template(createGarbageCollector_name,                "createGarbageCollector")                                  \
 584   template(createMemoryPool_signature,                 "(Ljava/lang/String;ZJJ)Ljava/lang/management/MemoryPoolMXBean;") \
 585   template(createMemoryManager_signature,              "(Ljava/lang/String;)Ljava/lang/management/MemoryManagerMXBean;") \
 586   template(createGarbageCollector_signature,           "(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/management/GarbageCollectorMXBean;") \
 587   template(addThreadDumpForMonitors_name,              "addThreadDumpForMonitors")                                \
 588   template(addThreadDumpForSynchronizers_name,         "addThreadDumpForSynchronizers")                           \
 589   template(addThreadDumpForMonitors_signature,         "(Ljava/lang/management/ThreadInfo;[Ljava/lang/Object;[I)V") \
 590   template(addThreadDumpForSynchronizers_signature,    "(Ljava/lang/management/ThreadInfo;[Ljava/lang/Object;)V")   \
 591                                                                                                                   \
 592   /* JVMTI/java.lang.instrument support and VM Attach mechanism */                                                \
 593   template(sun_misc_VMSupport,                         "sun/misc/VMSupport")                                      \
 594   template(appendToClassPathForInstrumentation_name,   "appendToClassPathForInstrumentation")                     \
 595   do_alias(appendToClassPathForInstrumentation_signature, string_void_signature)                                  \
 596   template(serializePropertiesToByteArray_name,        "serializePropertiesToByteArray")                          \
 597   template(serializePropertiesToByteArray_signature,   "()[B")                                                    \
 598   template(serializeAgentPropertiesToByteArray_name,   "serializeAgentPropertiesToByteArray")                     \
 599   template(classRedefinedCount_name,                   "classRedefinedCount")                                     \
 600   template(classLoader_name,                           "classLoader")                                             \
 601   template(componentType_name,                         "componentType")                                           \
 602                                                                                                                   \
 603   /* forEachRemaining support */                                                                                  \
 604   template(java_util_stream_StreamsRangeIntSpliterator,          "java/util/stream/Streams$RangeIntSpliterator")  \
 605                                                                                                                   \
 606   /* trace signatures */                                                                                          \
 607   TRACE_TEMPLATES(template)                                                                                       \
 608                                                                                                                   \
 609   /*end*/
 610 
 611 // Here are all the intrinsics known to the runtime and the CI.
 612 // Each intrinsic consists of a public enum name (like _hashCode),
 613 // followed by a specification of its klass, name, and signature:
 614 //    template(&lt;id&gt;,  &lt;klass&gt;,  &lt;name&gt;, &lt;sig&gt;, &lt;FCODE&gt;)
 615 //
 616 // If you add an intrinsic here, you must also define its name
 617 // and signature as members of the VM symbols.  The VM symbols for
 618 // the intrinsic name and signature may be defined above.
 619 //
 620 // Because the VM_SYMBOLS_DO macro makes reference to VM_INTRINSICS_DO,
 621 // you can also define an intrinsic's name and/or signature locally to the
 622 // intrinsic, if this makes sense.  (It often does make sense.)
 623 //
 624 // For example:
 625 //    do_intrinsic(_foo,  java_lang_Object,  foo_name, foo_signature, F_xx)
 626 //     do_name(     foo_name, "foo")
 627 //     do_signature(foo_signature, "()F")
 628 // klass      = vmSymbols::java_lang_Object()
 629 // name       = vmSymbols::foo_name()
 630 // signature  = vmSymbols::foo_signature()
 631 //
 632 // The name and/or signature might be a "well known" symbol
 633 // like "equal" or "()I", in which case there will be no local
 634 // re-definition of the symbol.
 635 //
 636 // The do_class, do_name, and do_signature calls are all used for the
 637 // same purpose:  Define yet another VM symbol.  They could all be merged
 638 // into a common 'do_symbol' call, but it seems useful to record our
 639 // intentions here about kinds of symbols (class vs. name vs. signature).
 640 //
 641 // The F_xx is one of the Flags enum; see below.
 642 //
 643 // for Emacs: (let ((c-backslash-column 120) (c-backslash-max-column 120)) (c-backslash-region (point) (point-max) nil t))
 644 //
 645 //
 646 // There are two types of intrinsic methods: (1) Library intrinsics and (2) bytecode intrinsics.
 647 //
 648 // (1) A library intrinsic method may be replaced with hand-crafted assembly code,
 649 // with hand-crafted compiler IR, or with a combination of the two. The semantics
 650 // of the replacement code may differ from the semantics of the replaced code.
 651 //
 652 // (2) Bytecode intrinsic methods are not replaced by special code, but they are
 653 // treated in some other special way by the compiler. For example, the compiler
 654 // may delay inlining for some String-related intrinsic methods (e.g., some methods
 655 // defined in the StringBuilder and StringBuffer classes, see
 656 // Compile::should_delay_string_inlining() for more details).
 657 //
 658 // Due to the difference between the semantics of an intrinsic method as defined
 659 // in the (Java) source code and the semantics of the method as defined
 660 // by the code in the VM, intrinsic methods must be explicitly marked.
 661 //
 662 // Intrinsic methods are marked by the jdk.internal.HotSpotIntrinsicCandidate
 663 // annotation. If CheckIntrinsics is enabled, the VM performs the following
 664 // checks when a class C is loaded: (1) all intrinsics defined by the VM for
 665 // class C are present in the loaded class file and are marked;
 666 // (2) an intrinsic is defined by the VM for all marked methods of class C;
 667 // (3) check for orphan methods in class C (i.e., methods for which the VM
 668 // declares an intrinsic but that are not declared for the loaded class C.
 669 // Check (3) is available only in debug builds.
 670 //
 671 // If a mismatch is detected for a method, the VM behaves differently depending
 672 // on the type of build. A fastdebug build exits and reports an error on a mismatch.
 673 // A product build will not replace an unmarked library intrinsic method with
 674 // hand-crafted code, that is, unmarked library intrinsics are treated as ordinary
 675 // methods in a product build. The special treatment of a bytecode intrinsic method
 676 // persists even if the method not marked.
 677 //
 678 // When adding an intrinsic for a method, please make sure to appropriately
 679 // annotate the method in the source code. The list below contains all
 680 // library intrinsics followed by bytecode intrinsics. Please also make sure to
 681 // add the declaration of the intrinsic to the approriate section of the list.
 682 #define VM_INTRINSICS_DO(do_intrinsic, do_class, do_name, do_signature, do_alias)                                       \
 683   /* (1) Library intrinsics                                                                        */                   \
 684   do_intrinsic(_hashCode,                 java_lang_Object,       hashCode_name, void_int_signature,             F_R)   \
 685    do_name(     hashCode_name,                                   "hashCode")                                            \
 686   do_intrinsic(_getClass,                 java_lang_Object,       getClass_name, void_class_signature,           F_R)   \
 687    do_name(     getClass_name,                                   "getClass")                                            \
 688   do_intrinsic(_clone,                    java_lang_Object,       clone_name, void_object_signature,             F_R)   \
 689    do_name(     clone_name,                                      "clone")                                               \
 690   do_intrinsic(_notify,                   java_lang_Object,       notify_name, void_method_signature,            F_R)   \
 691    do_name(     notify_name,                                     "notify")                                              \
 692   do_intrinsic(_notifyAll,                java_lang_Object,       notifyAll_name, void_method_signature,         F_R)   \
 693    do_name(     notifyAll_name,                                  "notifyAll")                                           \
 694                                                                                                                         \
 695   /* Math &amp; StrictMath intrinsics are defined in terms of just a few signatures: */                                     \
 696   do_class(java_lang_Math,                "java/lang/Math")                                                             \
 697   do_class(java_lang_StrictMath,          "java/lang/StrictMath")                                                       \
 698   do_signature(double2_double_signature,  "(DD)D")                                                                      \
 699   do_signature(int2_int_signature,        "(II)I")                                                                      \
 700   do_signature(long2_long_signature,      "(JJ)J")                                                                         \
 701                                                                                                                         \
 702   /* here are the math names, all together: */                                                                          \
 703   do_name(abs_name,"abs")       do_name(sin_name,"sin")         do_name(cos_name,"cos")                                 \
 704   do_name(tan_name,"tan")       do_name(atan2_name,"atan2")     do_name(sqrt_name,"sqrt")                               \
 705   do_name(log_name,"log")       do_name(log10_name,"log10")     do_name(pow_name,"pow")                                 \
 706   do_name(exp_name,"exp")       do_name(min_name,"min")         do_name(max_name,"max")                                 \
 707                                                                                                                         \
 708   do_name(addExact_name,"addExact")                                                                                     \
 709   do_name(decrementExact_name,"decrementExact")                                                                         \
 710   do_name(incrementExact_name,"incrementExact")                                                                         \
 711   do_name(multiplyExact_name,"multiplyExact")                                                                           \
 712   do_name(negateExact_name,"negateExact")                                                                               \
 713   do_name(subtractExact_name,"subtractExact")                                                                           \
 714                                                                                                                         \
 715   do_intrinsic(_dabs,                     java_lang_Math,         abs_name,   double_double_signature,           F_S)   \
 716   do_intrinsic(_dsin,                     java_lang_Math,         sin_name,   double_double_signature,           F_S)   \
 717   do_intrinsic(_dcos,                     java_lang_Math,         cos_name,   double_double_signature,           F_S)   \
 718   do_intrinsic(_dtan,                     java_lang_Math,         tan_name,   double_double_signature,           F_S)   \
 719   do_intrinsic(_datan2,                   java_lang_Math,         atan2_name, double2_double_signature,          F_S)   \
 720   do_intrinsic(_dsqrt,                    java_lang_Math,         sqrt_name,  double_double_signature,           F_S)   \
 721   do_intrinsic(_dlog,                     java_lang_Math,         log_name,   double_double_signature,           F_S)   \
 722   do_intrinsic(_dlog10,                   java_lang_Math,         log10_name, double_double_signature,           F_S)   \
 723   do_intrinsic(_dpow,                     java_lang_Math,         pow_name,   double2_double_signature,          F_S)   \
 724   do_intrinsic(_dexp,                     java_lang_Math,         exp_name,   double_double_signature,           F_S)   \
 725   do_intrinsic(_min,                      java_lang_Math,         min_name,   int2_int_signature,                F_S)   \
 726   do_intrinsic(_max,                      java_lang_Math,         max_name,   int2_int_signature,                F_S)   \
 727   do_intrinsic(_addExactI,                java_lang_Math,         addExact_name, int2_int_signature,             F_S)   \
 728   do_intrinsic(_addExactL,                java_lang_Math,         addExact_name, long2_long_signature,           F_S)   \
 729   do_intrinsic(_decrementExactI,          java_lang_Math,         decrementExact_name, int_int_signature,        F_S)   \
 730   do_intrinsic(_decrementExactL,          java_lang_Math,         decrementExact_name, long_long_signature,      F_S)   \
 731   do_intrinsic(_incrementExactI,          java_lang_Math,         incrementExact_name, int_int_signature,        F_S)   \
 732   do_intrinsic(_incrementExactL,          java_lang_Math,         incrementExact_name, long_long_signature,      F_S)   \
 733   do_intrinsic(_multiplyExactI,           java_lang_Math,         multiplyExact_name, int2_int_signature,        F_S)   \
 734   do_intrinsic(_multiplyExactL,           java_lang_Math,         multiplyExact_name, long2_long_signature,      F_S)   \
 735   do_intrinsic(_negateExactI,             java_lang_Math,         negateExact_name, int_int_signature,           F_S)   \
 736   do_intrinsic(_negateExactL,             java_lang_Math,         negateExact_name, long_long_signature,         F_S)   \
 737   do_intrinsic(_subtractExactI,           java_lang_Math,         subtractExact_name, int2_int_signature,        F_S)   \
 738   do_intrinsic(_subtractExactL,           java_lang_Math,         subtractExact_name, long2_long_signature,      F_S)   \
 739                                                                                                                         \
 740   do_intrinsic(_floatToRawIntBits,        java_lang_Float,        floatToRawIntBits_name,   float_int_signature, F_S)   \
 741    do_name(     floatToRawIntBits_name,                          "floatToRawIntBits")                                   \
 742   do_intrinsic(_floatToIntBits,           java_lang_Float,        floatToIntBits_name,      float_int_signature, F_S)   \
 743    do_name(     floatToIntBits_name,                             "floatToIntBits")                                      \
 744   do_intrinsic(_intBitsToFloat,           java_lang_Float,        intBitsToFloat_name,      int_float_signature, F_S)   \
 745    do_name(     intBitsToFloat_name,                             "intBitsToFloat")                                      \
 746   do_intrinsic(_doubleToRawLongBits,      java_lang_Double,       doubleToRawLongBits_name, double_long_signature, F_S) \
 747    do_name(     doubleToRawLongBits_name,                        "doubleToRawLongBits")                                 \
 748   do_intrinsic(_doubleToLongBits,         java_lang_Double,       doubleToLongBits_name,    double_long_signature, F_S) \
 749    do_name(     doubleToLongBits_name,                           "doubleToLongBits")                                    \
 750   do_intrinsic(_longBitsToDouble,         java_lang_Double,       longBitsToDouble_name,    long_double_signature, F_S) \
 751    do_name(     longBitsToDouble_name,                           "longBitsToDouble")                                    \
 752                                                                                                                         \
 753   do_intrinsic(_numberOfLeadingZeros_i,   java_lang_Integer,      numberOfLeadingZeros_name,int_int_signature,   F_S)   \
 754   do_intrinsic(_numberOfLeadingZeros_l,   java_lang_Long,         numberOfLeadingZeros_name,long_int_signature,  F_S)   \
 755                                                                                                                         \
 756   do_intrinsic(_numberOfTrailingZeros_i,  java_lang_Integer,      numberOfTrailingZeros_name,int_int_signature,  F_S)   \
 757   do_intrinsic(_numberOfTrailingZeros_l,  java_lang_Long,         numberOfTrailingZeros_name,long_int_signature, F_S)   \
 758                                                                                                                         \
 759   do_intrinsic(_bitCount_i,               java_lang_Integer,      bitCount_name,            int_int_signature,   F_S)   \
 760   do_intrinsic(_bitCount_l,               java_lang_Long,         bitCount_name,            long_int_signature,  F_S)   \
 761                                                                                                                         \
 762   do_intrinsic(_reverseBytes_i,           java_lang_Integer,      reverseBytes_name,        int_int_signature,   F_S)   \
 763    do_name(     reverseBytes_name,                               "reverseBytes")                                        \
 764   do_intrinsic(_reverseBytes_l,           java_lang_Long,         reverseBytes_name,        long_long_signature, F_S)   \
 765     /*  (symbol reverseBytes_name defined above) */                                                                     \
 766   do_intrinsic(_reverseBytes_c,           java_lang_Character,    reverseBytes_name,        char_char_signature, F_S)   \
 767     /*  (symbol reverseBytes_name defined above) */                                                                     \
 768   do_intrinsic(_reverseBytes_s,           java_lang_Short,        reverseBytes_name,        short_short_signature, F_S) \
 769     /*  (symbol reverseBytes_name defined above) */                                                                     \
 770                                                                                                                         \
 771   do_intrinsic(_identityHashCode,         java_lang_System,       identityHashCode_name, object_int_signature,   F_S)   \
 772    do_name(     identityHashCode_name,                           "identityHashCode")                                    \
 773   do_intrinsic(_currentTimeMillis,        java_lang_System,       currentTimeMillis_name, void_long_signature,   F_S)   \
 774                                                                                                                         \
 775    do_name(     currentTimeMillis_name,                          "currentTimeMillis")                                   \
 776   do_intrinsic(_nanoTime,                 java_lang_System,       nanoTime_name,          void_long_signature,   F_S)   \
 777    do_name(     nanoTime_name,                                   "nanoTime")                                            \
 778                                                                                                                         \
 779   TRACE_INTRINSICS(do_intrinsic, do_class, do_name, do_signature, do_alias)                                             \
 780                                                                                                                         \
 781   do_intrinsic(_arraycopy,                java_lang_System,       arraycopy_name, arraycopy_signature,           F_S)   \
 782    do_name(     arraycopy_name,                                  "arraycopy")                                           \
 783    do_signature(arraycopy_signature,                             "(Ljava/lang/Object;ILjava/lang/Object;II)V")          \
 784   do_intrinsic(_isInterrupted,            java_lang_Thread,       isInterrupted_name, isInterrupted_signature,   F_R)   \
 785    do_name(     isInterrupted_name,                              "isInterrupted")                                       \
 786    do_signature(isInterrupted_signature,                         "(Z)Z")                                                \
 787   do_intrinsic(_currentThread,            java_lang_Thread,       currentThread_name, currentThread_signature,   F_S)   \
 788    do_name(     currentThread_name,                              "currentThread")                                       \
 789    do_signature(currentThread_signature,                         "()Ljava/lang/Thread;")                                \
 790   do_intrinsic(_spinLoopHint,             java_lang_Thread,       spinLoopHint_name, spinLoopHint_signature,     F_S)   \
 791    do_name(     spinLoopHint_name,                               "spinLoopHint")                                        \
 792    do_alias(    spinLoopHint_signature,                           void_method_signature)                                \
 793                                                                                                                         \
 794   /* reflective intrinsics, for java/lang/Class, etc. */                                                                \
 795   do_intrinsic(_isAssignableFrom,         java_lang_Class,        isAssignableFrom_name, class_boolean_signature, F_RN) \
 796    do_name(     isAssignableFrom_name,                           "isAssignableFrom")                                    \
 797   do_intrinsic(_isInstance,               java_lang_Class,        isInstance_name, object_boolean_signature,     F_RN)  \
 798    do_name(     isInstance_name,                                 "isInstance")                                          \
 799   do_intrinsic(_getModifiers,             java_lang_Class,        getModifiers_name, void_int_signature,         F_RN)  \
 800    do_name(     getModifiers_name,                               "getModifiers")                                        \
 801   do_intrinsic(_isInterface,              java_lang_Class,        isInterface_name, void_boolean_signature,      F_RN)  \
 802    do_name(     isInterface_name,                                "isInterface")                                         \
 803   do_intrinsic(_isArray,                  java_lang_Class,        isArray_name, void_boolean_signature,          F_RN)  \
 804    do_name(     isArray_name,                                    "isArray")                                             \
 805   do_intrinsic(_isPrimitive,              java_lang_Class,        isPrimitive_name, void_boolean_signature,      F_RN)  \
 806    do_name(     isPrimitive_name,                                "isPrimitive")                                         \
 807   do_intrinsic(_getSuperclass,            java_lang_Class,        getSuperclass_name, void_class_signature,      F_RN)  \
 808    do_name(     getSuperclass_name,                              "getSuperclass")                                       \
 809   do_intrinsic(_Class_cast,               java_lang_Class,        Class_cast_name, object_object_signature,      F_R)   \
 810    do_name(     Class_cast_name,                                 "cast")                                                \
 811                                                                                                                         \
 812   do_intrinsic(_getClassAccessFlags,      sun_reflect_Reflection, getClassAccessFlags_name, class_int_signature, F_SN)  \
 813    do_name(     getClassAccessFlags_name,                        "getClassAccessFlags")                                 \
 814   do_intrinsic(_getLength,                java_lang_reflect_Array, getLength_name, object_int_signature,         F_SN)  \
 815    do_name(     getLength_name,                                   "getLength")                                          \
 816                                                                                                                         \
 817   do_intrinsic(_getCallerClass,           sun_reflect_Reflection, getCallerClass_name, void_class_signature,     F_SN)  \
 818    do_name(     getCallerClass_name,                             "getCallerClass")                                      \
 819                                                                                                                         \
 820   do_intrinsic(_newArray,                 java_lang_reflect_Array, newArray_name, newArray_signature,            F_SN)  \
 821    do_name(     newArray_name,                                    "newArray")                                           \
 822    do_signature(newArray_signature,                               "(Ljava/lang/Class;I)Ljava/lang/Object;")             \
 823                                                                                                                         \
 824   do_intrinsic(_copyOf,                   java_util_Arrays,       copyOf_name, copyOf_signature,                 F_S)   \
 825    do_name(     copyOf_name,                                     "copyOf")                                              \
 826    do_signature(copyOf_signature,             "([Ljava/lang/Object;ILjava/lang/Class;)[Ljava/lang/Object;")             \
 827                                                                                                                         \
 828   do_intrinsic(_copyOfRange,              java_util_Arrays,       copyOfRange_name, copyOfRange_signature,       F_S)   \
 829    do_name(     copyOfRange_name,                                "copyOfRange")                                         \
 830    do_signature(copyOfRange_signature,        "([Ljava/lang/Object;IILjava/lang/Class;)[Ljava/lang/Object;")            \
 831                                                                                                                         \
 832   do_intrinsic(_equalsC,                  java_util_Arrays,       equals_name,    equalsC_signature,             F_S)   \
 833    do_signature(equalsC_signature,                               "([C[C)Z")                                             \
 834                                                                                                                         \
 835   do_intrinsic(_compareTo,                java_lang_String,       compareTo_name, string_int_signature,          F_R)   \
 836    do_name(     compareTo_name,                                  "compareTo")                                           \
 837   do_intrinsic(_indexOf,                  java_lang_String,       indexOf_name, string_int_signature,            F_R)   \
 838    do_name(     indexOf_name,                                    "indexOf")                                             \
 839   do_intrinsic(_equals,                   java_lang_String,       equals_name, object_boolean_signature,         F_R)   \
 840                                                                                                                         \
 841   do_class(java_nio_Buffer,               "java/nio/Buffer")                                                            \
 842   do_intrinsic(_checkIndex,               java_nio_Buffer,        checkIndex_name, int_int_signature,            F_R)   \
 843    do_name(     checkIndex_name,                                 "checkIndex")                                          \
 844                                                                                                                         \
 845   do_class(sun_nio_cs_iso8859_1_Encoder,  "sun/nio/cs/ISO_8859_1$Encoder")                                              \
 846   do_intrinsic(_encodeISOArray,     sun_nio_cs_iso8859_1_Encoder, encodeISOArray_name, encodeISOArray_signature, F_S)   \
 847    do_name(     encodeISOArray_name,                             "implEncodeISOArray")                                  \
 848    do_signature(encodeISOArray_signature,                        "([CI[BII)I")                                          \
 849                                                                                                                         \
 850   do_class(java_math_BigInteger,                      "java/math/BigInteger")                                           \
 851   do_intrinsic(_multiplyToLen,      java_math_BigInteger, multiplyToLen_name, multiplyToLen_signature, F_S)             \
 852    do_name(     multiplyToLen_name,                             "implMultiplyToLen")                                    \
 853    do_signature(multiplyToLen_signature,                        "([II[II[I)[I")                                         \
 854                                                                                                                         \
 855   do_intrinsic(_squareToLen, java_math_BigInteger, squareToLen_name, squareToLen_signature, F_S)                        \
 856    do_name(     squareToLen_name,                             "implSquareToLen")                                        \
 857    do_signature(squareToLen_signature,                        "([II[II)[I")                                             \
 858                                                                                                                         \
 859   do_intrinsic(_mulAdd, java_math_BigInteger, mulAdd_name, mulAdd_signature, F_S)                                       \
 860    do_name(     mulAdd_name,                                  "implMulAdd")                                             \
 861    do_signature(mulAdd_signature,                             "([I[IIII)I")                                             \
 862                                                                                                                         \
 863   do_intrinsic(_montgomeryMultiply,      java_math_BigInteger, montgomeryMultiply_name, montgomeryMultiply_signature, F_S) \
 864    do_name(     montgomeryMultiply_name,                             "implMontgomeryMultiply")                          \
 865    do_signature(montgomeryMultiply_signature,                        "([I[I[IIJ[I)[I")                                  \
 866                                                                                                                         \
 867   do_intrinsic(_montgomerySquare,      java_math_BigInteger, montgomerySquare_name, montgomerySquare_signature, F_S)    \
 868    do_name(     montgomerySquare_name,                             "implMontgomerySquare")                              \
 869    do_signature(montgomerySquare_signature,                        "([I[IIJ[I)[I")                                      \
 870                                                                                                                         \
 871   /* java/lang/ref/Reference */                                                                                         \
 872   do_intrinsic(_Reference_get,            java_lang_ref_Reference, get_name,    void_object_signature, F_R)             \
 873                                                                                                                         \
 874   /* support for com.sun.crypto.provider.AESCrypt and some of its callers */                                            \
 875   do_class(com_sun_crypto_provider_aescrypt,      "com/sun/crypto/provider/AESCrypt")                                   \
 876   do_intrinsic(_aescrypt_encryptBlock, com_sun_crypto_provider_aescrypt, encryptBlock_name, byteArray_int_byteArray_int_signature, F_R)   \
 877   do_intrinsic(_aescrypt_decryptBlock, com_sun_crypto_provider_aescrypt, decryptBlock_name, byteArray_int_byteArray_int_signature, F_R)   \
 878    do_name(     encryptBlock_name,                                 "implEncryptBlock")                                  \
 879    do_name(     decryptBlock_name,                                 "implDecryptBlock")                                  \
 880    do_signature(byteArray_int_byteArray_int_signature,             "([BI[BI)V")                                         \
 881                                                                                                                         \
 882   do_class(com_sun_crypto_provider_cipherBlockChaining,            "com/sun/crypto/provider/CipherBlockChaining")       \
 883    do_intrinsic(_cipherBlockChaining_encryptAESCrypt, com_sun_crypto_provider_cipherBlockChaining, encrypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \
 884    do_intrinsic(_cipherBlockChaining_decryptAESCrypt, com_sun_crypto_provider_cipherBlockChaining, decrypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \
 885    do_name(     encrypt_name,                                      "implEncrypt")                                       \
 886    do_name(     decrypt_name,                                      "implDecrypt")                                       \
 887    do_signature(byteArray_int_int_byteArray_int_signature,         "([BII[BI)I")                                        \
 888                                                                                                                         \
 889   /* support for sun.security.provider.SHA */                                                                           \
 890   do_class(sun_security_provider_sha,                              "sun/security/provider/SHA")                         \
 891   do_intrinsic(_sha_implCompress, sun_security_provider_sha, implCompress_name, implCompress_signature, F_R)            \
 892    do_name(     implCompress_name,                                 "implCompress0")                                     \
 893    do_signature(implCompress_signature,                            "([BI)V")                                            \
 894                                                                                                                         \
 895   /* support for sun.security.provider.SHA2 */                                                                          \
 896   do_class(sun_security_provider_sha2,                             "sun/security/provider/SHA2")                        \
 897   do_intrinsic(_sha2_implCompress, sun_security_provider_sha2, implCompress_name, implCompress_signature, F_R)          \
 898                                                                                                                         \
 899   /* support for sun.security.provider.SHA5 */                                                                          \
 900   do_class(sun_security_provider_sha5,                             "sun/security/provider/SHA5")                        \
 901   do_intrinsic(_sha5_implCompress, sun_security_provider_sha5, implCompress_name, implCompress_signature, F_R)          \
 902                                                                                                                         \
 903   /* support for sun.security.provider.DigestBase */                                                                    \
 904   do_class(sun_security_provider_digestbase,                       "sun/security/provider/DigestBase")                  \
 905   do_intrinsic(_digestBase_implCompressMB, sun_security_provider_digestbase, implCompressMB_name, implCompressMB_signature, F_R)   \
 906    do_name(     implCompressMB_name,                               "implCompressMultiBlock0")                           \
 907    do_signature(implCompressMB_signature,                          "([BII)I")                                           \
 908                                                                                                                         \
 909   /* support for com.sun.crypto.provider.GHASH */                                                                       \
 910   do_class(com_sun_crypto_provider_ghash, "com/sun/crypto/provider/GHASH")                                              \
 911   do_intrinsic(_ghash_processBlocks, com_sun_crypto_provider_ghash, processBlocks_name, ghash_processBlocks_signature, F_S) \
 912    do_name(processBlocks_name, "processBlocks")                                                                         \
 913    do_signature(ghash_processBlocks_signature, "([BII[J[J)V")                                                           \
 914                                                                                                                         \
 915   /* support for java.util.zip */                                                                                       \
 916   do_class(java_util_zip_CRC32,           "java/util/zip/CRC32")                                                        \
 917   do_intrinsic(_updateCRC32,               java_util_zip_CRC32,   update_name, int2_int_signature,               F_SN)  \
 918    do_name(     update_name,                                      "update")                                             \
 919   do_intrinsic(_updateBytesCRC32,          java_util_zip_CRC32,   updateBytes_name, updateBytes_signature,       F_SN)  \
 920    do_name(     updateBytes_name,                                "updateBytes0")                                        \
 921    do_signature(updateBytes_signature,                           "(I[BII)I")                                            \
 922   do_intrinsic(_updateByteBufferCRC32,     java_util_zip_CRC32,   updateByteBuffer_name, updateByteBuffer_signature, F_SN) \
 923    do_name(     updateByteBuffer_name,                           "updateByteBuffer0")                                   \
 924    do_signature(updateByteBuffer_signature,                      "(IJII)I")                                             \
 925                                                                                                                         \
 926   /* support for java.util.zip.CRC32C */                                                                                \
 927   do_class(java_util_zip_CRC32C,          "java/util/zip/CRC32C")                                                       \
 928   do_intrinsic(_updateBytesCRC32C,         java_util_zip_CRC32C,  updateBytes_C_name, updateBytes_signature,       F_S) \
 929    do_name(     updateBytes_C_name,                               "updateBytes")                                        \
 930   do_intrinsic(_updateDirectByteBufferCRC32C, java_util_zip_CRC32C, updateDirectByteBuffer_C_name, updateByteBuffer_signature, F_S) \
 931    do_name(    updateDirectByteBuffer_C_name,                     "updateDirectByteBuffer")                             \
 932                                                                                                                         \
 933    /* support for java.util.zip.Adler32 */                                                                              \
 934   do_class(java_util_zip_Adler32,        "java/util/zip/Adler32")                                                       \
 935   do_intrinsic(_updateBytesAdler32,       java_util_zip_Adler32,  updateBytes_C_name,  updateBytes_signature,  F_SN)    \
 936   do_intrinsic(_updateByteBufferAdler32,  java_util_zip_Adler32,  updateByteBuffer_A_name,  updateByteBuffer_signature,  F_SN) \
 937    do_name(     updateByteBuffer_A_name,                          "updateByteBuffer")                                   \
 938                                                                                                                         \
 939   /* support for sun.misc.Unsafe */                                                                                     \
 940   do_class(sun_misc_Unsafe,               "sun/misc/Unsafe")                                                            \
 941                                                                                                                         \
 942   do_intrinsic(_allocateInstance,         sun_misc_Unsafe,        allocateInstance_name, allocateInstance_signature, F_RN) \
 943    do_name(     allocateInstance_name,                           "allocateInstance")                                    \
 944    do_signature(allocateInstance_signature,   "(Ljava/lang/Class;)Ljava/lang/Object;")                                  \
 945   do_intrinsic(_copyMemory,               sun_misc_Unsafe,        copyMemory_name, copyMemory_signature,         F_RN)  \
 946    do_name(     copyMemory_name,                                 "copyMemory")                                          \
 947    do_signature(copyMemory_signature,         "(Ljava/lang/Object;JLjava/lang/Object;JJ)V")                             \
 948   do_intrinsic(_loadFence,                sun_misc_Unsafe,        loadFence_name, loadFence_signature,           F_RN)  \
 949    do_name(     loadFence_name,                                  "loadFence")                                           \
 950    do_alias(    loadFence_signature,                              void_method_signature)                                \
 951   do_intrinsic(_storeFence,               sun_misc_Unsafe,        storeFence_name, storeFence_signature,         F_RN)  \
 952    do_name(     storeFence_name,                                 "storeFence")                                          \
 953    do_alias(    storeFence_signature,                             void_method_signature)                                \
 954   do_intrinsic(_fullFence,                sun_misc_Unsafe,        fullFence_name, fullFence_signature,           F_RN)  \
 955    do_name(     fullFence_name,                                  "fullFence")                                           \
 956    do_alias(    fullFence_signature,                              void_method_signature)                                \
 957                                                                                                                         \
 958   /* Custom branch frequencies profiling support for JSR292 */                                                          \
 959   do_class(java_lang_invoke_MethodHandleImpl,               "java/lang/invoke/MethodHandleImpl")                        \
 960   do_intrinsic(_profileBoolean, java_lang_invoke_MethodHandleImpl, profileBoolean_name, profileBoolean_signature, F_S)  \
 961    do_name(     profileBoolean_name,                             "profileBoolean")                                      \
 962    do_signature(profileBoolean_signature,                        "(Z[I)Z")                                              \
 963   do_intrinsic(_isCompileConstant, java_lang_invoke_MethodHandleImpl, isCompileConstant_name, isCompileConstant_signature, F_S) \
 964    do_name(     isCompileConstant_name,                          "isCompileConstant")                                   \
 965    do_alias(    isCompileConstant_signature,                      object_boolean_signature)                             \
 966                                                                                                                         \
 967   /* unsafe memory references (there are a lot of them...) */                                                           \
 968   do_signature(getObject_signature,       "(Ljava/lang/Object;J)Ljava/lang/Object;")                                    \
 969   do_signature(putObject_signature,       "(Ljava/lang/Object;JLjava/lang/Object;)V")                                   \
 970   do_signature(getBoolean_signature,      "(Ljava/lang/Object;J)Z")                                                     \
 971   do_signature(putBoolean_signature,      "(Ljava/lang/Object;JZ)V")                                                    \
 972   do_signature(getByte_signature,         "(Ljava/lang/Object;J)B")                                                     \
 973   do_signature(putByte_signature,         "(Ljava/lang/Object;JB)V")                                                    \
 974   do_signature(getShort_signature,        "(Ljava/lang/Object;J)S")                                                     \
 975   do_signature(putShort_signature,        "(Ljava/lang/Object;JS)V")                                                    \
 976   do_signature(getChar_signature,         "(Ljava/lang/Object;J)C")                                                     \
 977   do_signature(putChar_signature,         "(Ljava/lang/Object;JC)V")                                                    \
 978   do_signature(getInt_signature,          "(Ljava/lang/Object;J)I")                                                     \
 979   do_signature(putInt_signature,          "(Ljava/lang/Object;JI)V")                                                    \
 980   do_signature(getLong_signature,         "(Ljava/lang/Object;J)J")                                                     \
 981   do_signature(putLong_signature,         "(Ljava/lang/Object;JJ)V")                                                    \
 982   do_signature(getFloat_signature,        "(Ljava/lang/Object;J)F")                                                     \
 983   do_signature(putFloat_signature,        "(Ljava/lang/Object;JF)V")                                                    \
 984   do_signature(getDouble_signature,       "(Ljava/lang/Object;J)D")                                                     \
 985   do_signature(putDouble_signature,       "(Ljava/lang/Object;JD)V")                                                    \
 986                                                                                                                         \
 987   do_name(getObject_name,"getObject")           do_name(putObject_name,"putObject")                                     \
 988   do_name(getBoolean_name,"getBoolean")         do_name(putBoolean_name,"putBoolean")                                   \
 989   do_name(getByte_name,"getByte")               do_name(putByte_name,"putByte")                                         \
 990   do_name(getShort_name,"getShort")             do_name(putShort_name,"putShort")                                       \
 991   do_name(getChar_name,"getChar")               do_name(putChar_name,"putChar")                                         \
 992   do_name(getInt_name,"getInt")                 do_name(putInt_name,"putInt")                                           \
 993   do_name(getLong_name,"getLong")               do_name(putLong_name,"putLong")                                         \
 994   do_name(getFloat_name,"getFloat")             do_name(putFloat_name,"putFloat")                                       \
 995   do_name(getDouble_name,"getDouble")           do_name(putDouble_name,"putDouble")                                     \
 996                                                                                                                         \
 997   do_intrinsic(_getObject,                sun_misc_Unsafe,        getObject_name, getObject_signature,           F_RN)  \
 998   do_intrinsic(_getBoolean,               sun_misc_Unsafe,        getBoolean_name, getBoolean_signature,         F_RN)  \
 999   do_intrinsic(_getByte,                  sun_misc_Unsafe,        getByte_name, getByte_signature,               F_RN)  \
1000   do_intrinsic(_getShort,                 sun_misc_Unsafe,        getShort_name, getShort_signature,             F_RN)  \
1001   do_intrinsic(_getChar,                  sun_misc_Unsafe,        getChar_name, getChar_signature,               F_RN)  \
1002   do_intrinsic(_getInt,                   sun_misc_Unsafe,        getInt_name, getInt_signature,                 F_RN)  \
1003   do_intrinsic(_getLong,                  sun_misc_Unsafe,        getLong_name, getLong_signature,               F_RN)  \
1004   do_intrinsic(_getFloat,                 sun_misc_Unsafe,        getFloat_name, getFloat_signature,             F_RN)  \
1005   do_intrinsic(_getDouble,                sun_misc_Unsafe,        getDouble_name, getDouble_signature,           F_RN)  \
1006   do_intrinsic(_putObject,                sun_misc_Unsafe,        putObject_name, putObject_signature,           F_RN)  \
1007   do_intrinsic(_putBoolean,               sun_misc_Unsafe,        putBoolean_name, putBoolean_signature,         F_RN)  \
1008   do_intrinsic(_putByte,                  sun_misc_Unsafe,        putByte_name, putByte_signature,               F_RN)  \
1009   do_intrinsic(_putShort,                 sun_misc_Unsafe,        putShort_name, putShort_signature,             F_RN)  \
1010   do_intrinsic(_putChar,                  sun_misc_Unsafe,        putChar_name, putChar_signature,               F_RN)  \
1011   do_intrinsic(_putInt,                   sun_misc_Unsafe,        putInt_name, putInt_signature,                 F_RN)  \
1012   do_intrinsic(_putLong,                  sun_misc_Unsafe,        putLong_name, putLong_signature,               F_RN)  \
1013   do_intrinsic(_putFloat,                 sun_misc_Unsafe,        putFloat_name, putFloat_signature,             F_RN)  \
1014   do_intrinsic(_putDouble,                sun_misc_Unsafe,        putDouble_name, putDouble_signature,           F_RN)  \
1015                                                                                                                         \
1016   do_name(getObjectVolatile_name,"getObjectVolatile")   do_name(putObjectVolatile_name,"putObjectVolatile")             \
1017   do_name(getBooleanVolatile_name,"getBooleanVolatile") do_name(putBooleanVolatile_name,"putBooleanVolatile")           \
1018   do_name(getByteVolatile_name,"getByteVolatile")       do_name(putByteVolatile_name,"putByteVolatile")                 \
1019   do_name(getShortVolatile_name,"getShortVolatile")     do_name(putShortVolatile_name,"putShortVolatile")               \
1020   do_name(getCharVolatile_name,"getCharVolatile")       do_name(putCharVolatile_name,"putCharVolatile")                 \
1021   do_name(getIntVolatile_name,"getIntVolatile")         do_name(putIntVolatile_name,"putIntVolatile")                   \
1022   do_name(getLongVolatile_name,"getLongVolatile")       do_name(putLongVolatile_name,"putLongVolatile")                 \
1023   do_name(getFloatVolatile_name,"getFloatVolatile")     do_name(putFloatVolatile_name,"putFloatVolatile")               \
1024   do_name(getDoubleVolatile_name,"getDoubleVolatile")   do_name(putDoubleVolatile_name,"putDoubleVolatile")             \
1025                                                                                                                         \
1026   do_intrinsic(_getObjectVolatile,        sun_misc_Unsafe,        getObjectVolatile_name, getObject_signature,   F_RN)  \
1027   do_intrinsic(_getBooleanVolatile,       sun_misc_Unsafe,        getBooleanVolatile_name, getBoolean_signature, F_RN)  \
1028   do_intrinsic(_getByteVolatile,          sun_misc_Unsafe,        getByteVolatile_name, getByte_signature,       F_RN)  \
1029   do_intrinsic(_getShortVolatile,         sun_misc_Unsafe,        getShortVolatile_name, getShort_signature,     F_RN)  \
1030   do_intrinsic(_getCharVolatile,          sun_misc_Unsafe,        getCharVolatile_name, getChar_signature,       F_RN)  \
1031   do_intrinsic(_getIntVolatile,           sun_misc_Unsafe,        getIntVolatile_name, getInt_signature,         F_RN)  \
1032   do_intrinsic(_getLongVolatile,          sun_misc_Unsafe,        getLongVolatile_name, getLong_signature,       F_RN)  \
1033   do_intrinsic(_getFloatVolatile,         sun_misc_Unsafe,        getFloatVolatile_name, getFloat_signature,     F_RN)  \
1034   do_intrinsic(_getDoubleVolatile,        sun_misc_Unsafe,        getDoubleVolatile_name, getDouble_signature,   F_RN)  \
1035   do_intrinsic(_putObjectVolatile,        sun_misc_Unsafe,        putObjectVolatile_name, putObject_signature,   F_RN)  \
1036   do_intrinsic(_putBooleanVolatile,       sun_misc_Unsafe,        putBooleanVolatile_name, putBoolean_signature, F_RN)  \
1037   do_intrinsic(_putByteVolatile,          sun_misc_Unsafe,        putByteVolatile_name, putByte_signature,       F_RN)  \
1038   do_intrinsic(_putShortVolatile,         sun_misc_Unsafe,        putShortVolatile_name, putShort_signature,     F_RN)  \
1039   do_intrinsic(_putCharVolatile,          sun_misc_Unsafe,        putCharVolatile_name, putChar_signature,       F_RN)  \
1040   do_intrinsic(_putIntVolatile,           sun_misc_Unsafe,        putIntVolatile_name, putInt_signature,         F_RN)  \
1041   do_intrinsic(_putLongVolatile,          sun_misc_Unsafe,        putLongVolatile_name, putLong_signature,       F_RN)  \
1042   do_intrinsic(_putFloatVolatile,         sun_misc_Unsafe,        putFloatVolatile_name, putFloat_signature,     F_RN)  \
1043   do_intrinsic(_putDoubleVolatile,        sun_misc_Unsafe,        putDoubleVolatile_name, putDouble_signature,   F_RN)  \
1044                                                                                                                         \
1045   do_name(getShortUnaligned_name,"getShortUnaligned")     do_name(putShortUnaligned_name,"putShortUnaligned")           \
1046   do_name(getCharUnaligned_name,"getCharUnaligned")       do_name(putCharUnaligned_name,"putCharUnaligned")             \
1047   do_name(getIntUnaligned_name,"getIntUnaligned")         do_name(putIntUnaligned_name,"putIntUnaligned")               \
1048   do_name(getLongUnaligned_name,"getLongUnaligned")       do_name(putLongUnaligned_name,"putLongUnaligned")             \
1049                                                                                                                         \
1050   do_intrinsic(_getShortUnaligned,         sun_misc_Unsafe,        getShortUnaligned_name, getShort_signature,     F_R)  \
1051   do_intrinsic(_getCharUnaligned,          sun_misc_Unsafe,        getCharUnaligned_name, getChar_signature,       F_R)  \
1052   do_intrinsic(_getIntUnaligned,           sun_misc_Unsafe,        getIntUnaligned_name, getInt_signature,         F_R)  \
1053   do_intrinsic(_getLongUnaligned,          sun_misc_Unsafe,        getLongUnaligned_name, getLong_signature,       F_R)  \
1054   do_intrinsic(_putShortUnaligned,         sun_misc_Unsafe,        putShortUnaligned_name, putShort_signature,     F_R)  \
1055   do_intrinsic(_putCharUnaligned,          sun_misc_Unsafe,        putCharUnaligned_name, putChar_signature,       F_R)  \
1056   do_intrinsic(_putIntUnaligned,           sun_misc_Unsafe,        putIntUnaligned_name, putInt_signature,         F_R)  \
1057   do_intrinsic(_putLongUnaligned,          sun_misc_Unsafe,        putLongUnaligned_name, putLong_signature,       F_R)  \
1058                                                                                                                         \
1059   /* %%% these are redundant except perhaps for getAddress, but Unsafe has native methods for them */                   \
1060   do_signature(getByte_raw_signature,     "(J)B")                                                                       \
1061   do_signature(putByte_raw_signature,     "(JB)V")                                                                      \
1062   do_signature(getShort_raw_signature,    "(J)S")                                                                       \
1063   do_signature(putShort_raw_signature,    "(JS)V")                                                                      \
1064   do_signature(getChar_raw_signature,     "(J)C")                                                                       \
1065   do_signature(putChar_raw_signature,     "(JC)V")                                                                      \
1066   do_signature(putInt_raw_signature,      "(JI)V")                                                                      \
1067       do_alias(getLong_raw_signature,    /*(J)J*/ long_long_signature)                                                  \
1068       do_alias(putLong_raw_signature,    /*(JJ)V*/ long_long_void_signature)                                            \
1069   do_signature(getFloat_raw_signature,    "(J)F")                                                                       \
1070   do_signature(putFloat_raw_signature,    "(JF)V")                                                                      \
1071       do_alias(getDouble_raw_signature,  /*(J)D*/ long_double_signature)                                                \
1072   do_signature(putDouble_raw_signature,   "(JD)V")                                                                      \
1073       do_alias(getAddress_raw_signature, /*(J)J*/ long_long_signature)                                                  \
1074       do_alias(putAddress_raw_signature, /*(JJ)V*/ long_long_void_signature)                                            \
1075                                                                                                                         \
1076    do_name(    getAddress_name,           "getAddress")                                                                 \
1077    do_name(    putAddress_name,           "putAddress")                                                                 \
1078                                                                                                                         \
1079   do_intrinsic(_getByte_raw,              sun_misc_Unsafe,        getByte_name, getByte_raw_signature,           F_RN)  \
1080   do_intrinsic(_getShort_raw,             sun_misc_Unsafe,        getShort_name, getShort_raw_signature,         F_RN)  \
1081   do_intrinsic(_getChar_raw,              sun_misc_Unsafe,        getChar_name, getChar_raw_signature,           F_RN)  \
1082   do_intrinsic(_getInt_raw,               sun_misc_Unsafe,        getInt_name, long_int_signature,               F_RN)  \
1083   do_intrinsic(_getLong_raw,              sun_misc_Unsafe,        getLong_name, getLong_raw_signature,           F_RN)  \
1084   do_intrinsic(_getFloat_raw,             sun_misc_Unsafe,        getFloat_name, getFloat_raw_signature,         F_RN)  \
1085   do_intrinsic(_getDouble_raw,            sun_misc_Unsafe,        getDouble_name, getDouble_raw_signature,       F_RN)  \
1086   do_intrinsic(_getAddress_raw,           sun_misc_Unsafe,        getAddress_name, getAddress_raw_signature,     F_RN)  \
1087   do_intrinsic(_putByte_raw,              sun_misc_Unsafe,        putByte_name, putByte_raw_signature,           F_RN)  \
1088   do_intrinsic(_putShort_raw,             sun_misc_Unsafe,        putShort_name, putShort_raw_signature,         F_RN)  \
1089   do_intrinsic(_putChar_raw,              sun_misc_Unsafe,        putChar_name, putChar_raw_signature,           F_RN)  \
1090   do_intrinsic(_putInt_raw,               sun_misc_Unsafe,        putInt_name, putInt_raw_signature,             F_RN)  \
1091   do_intrinsic(_putLong_raw,              sun_misc_Unsafe,        putLong_name, putLong_raw_signature,           F_RN)  \
1092   do_intrinsic(_putFloat_raw,             sun_misc_Unsafe,        putFloat_name, putFloat_raw_signature,         F_RN)  \
1093   do_intrinsic(_putDouble_raw,            sun_misc_Unsafe,        putDouble_name, putDouble_raw_signature,       F_RN)  \
1094   do_intrinsic(_putAddress_raw,           sun_misc_Unsafe,        putAddress_name, putAddress_raw_signature,     F_RN)  \
1095                                                                                                                         \
1096   do_intrinsic(_compareAndSwapObject,     sun_misc_Unsafe,        compareAndSwapObject_name, compareAndSwapObject_signature, F_RN) \
1097    do_name(     compareAndSwapObject_name,                       "compareAndSwapObject")                                \
1098    do_signature(compareAndSwapObject_signature,  "(Ljava/lang/Object;JLjava/lang/Object;Ljava/lang/Object;)Z")          \
1099   do_intrinsic(_compareAndSwapLong,       sun_misc_Unsafe,        compareAndSwapLong_name, compareAndSwapLong_signature, F_RN) \
1100    do_name(     compareAndSwapLong_name,                         "compareAndSwapLong")                                  \
1101    do_signature(compareAndSwapLong_signature,                    "(Ljava/lang/Object;JJJ)Z")                            \
1102   do_intrinsic(_compareAndSwapInt,        sun_misc_Unsafe,        compareAndSwapInt_name, compareAndSwapInt_signature, F_RN) \
1103    do_name(     compareAndSwapInt_name,                          "compareAndSwapInt")                                   \
1104    do_signature(compareAndSwapInt_signature,                     "(Ljava/lang/Object;JII)Z")                            \
1105   do_intrinsic(_putOrderedObject,         sun_misc_Unsafe,        putOrderedObject_name, putOrderedObject_signature, F_RN) \
1106    do_name(     putOrderedObject_name,                           "putOrderedObject")                                    \
1107    do_alias(    putOrderedObject_signature,                     /*(LObject;JLObject;)V*/ putObject_signature)           \
1108   do_intrinsic(_putOrderedLong,           sun_misc_Unsafe,        putOrderedLong_name, putOrderedLong_signature, F_RN)  \
1109    do_name(     putOrderedLong_name,                             "putOrderedLong")                                      \
1110    do_alias(    putOrderedLong_signature,                       /*(Ljava/lang/Object;JJ)V*/ putLong_signature)          \
1111   do_intrinsic(_putOrderedInt,            sun_misc_Unsafe,        putOrderedInt_name, putOrderedInt_signature,   F_RN)  \
1112    do_name(     putOrderedInt_name,                              "putOrderedInt")                                       \
1113    do_alias(    putOrderedInt_signature,                        /*(Ljava/lang/Object;JI)V*/ putInt_signature)           \
1114                                                                                                                         \
1115   do_intrinsic(_getAndAddInt,             sun_misc_Unsafe,        getAndAddInt_name, getAndAddInt_signature, F_R)       \
1116    do_name(     getAndAddInt_name,                                "getAndAddInt")                                       \
1117    do_signature(getAndAddInt_signature,                           "(Ljava/lang/Object;JI)I" )                           \
1118   do_intrinsic(_getAndAddLong,            sun_misc_Unsafe,        getAndAddLong_name, getAndAddLong_signature, F_R)     \
1119    do_name(     getAndAddLong_name,                               "getAndAddLong")                                      \
1120    do_signature(getAndAddLong_signature,                          "(Ljava/lang/Object;JJ)J" )                           \
1121   do_intrinsic(_getAndSetInt,             sun_misc_Unsafe,        getAndSetInt_name, getAndSetInt_signature, F_R)       \
1122    do_name(     getAndSetInt_name,                                "getAndSetInt")                                       \
1123    do_alias(    getAndSetInt_signature,                         /*"(Ljava/lang/Object;JI)I"*/ getAndAddInt_signature)   \
1124   do_intrinsic(_getAndSetLong,            sun_misc_Unsafe,        getAndSetLong_name, getAndSetLong_signature, F_R)     \
1125    do_name(     getAndSetLong_name,                               "getAndSetLong")                                      \
1126    do_alias(    getAndSetLong_signature,                        /*"(Ljava/lang/Object;JJ)J"*/ getAndAddLong_signature)  \
1127   do_intrinsic(_getAndSetObject,          sun_misc_Unsafe,        getAndSetObject_name, getAndSetObject_signature,  F_R)\
1128    do_name(     getAndSetObject_name,                             "getAndSetObject")                                    \
1129    do_signature(getAndSetObject_signature,                        "(Ljava/lang/Object;JLjava/lang/Object;)Ljava/lang/Object;" ) \
1130                                                                                                                         \
1131    /* (2) Bytecode intrinsics                                                                        */                 \
1132                                                                                                                         \
1133   do_intrinsic(_park,                     sun_misc_Unsafe,        park_name, park_signature,                     F_RN)  \
1134    do_name(     park_name,                                       "park")                                                \
1135    do_signature(park_signature,                                  "(ZJ)V")                                               \
1136   do_intrinsic(_unpark,                   sun_misc_Unsafe,        unpark_name, unpark_signature,                 F_RN)  \
1137    do_name(     unpark_name,                                     "unpark")                                              \
1138    do_alias(    unpark_signature,                               /*(LObject;)V*/ object_void_signature)                  \
1139   do_intrinsic(_StringBuilder_void,   java_lang_StringBuilder, object_initializer_name, void_method_signature,     F_R)   \
1140   do_intrinsic(_StringBuilder_int,    java_lang_StringBuilder, object_initializer_name, int_void_signature,        F_R)   \
1141   do_intrinsic(_StringBuilder_String, java_lang_StringBuilder, object_initializer_name, string_void_signature,     F_R)   \
1142                                                                                                                           \
1143   do_intrinsic(_StringBuilder_append_char,   java_lang_StringBuilder, append_name, char_StringBuilder_signature,   F_R)   \
1144   do_intrinsic(_StringBuilder_append_int,    java_lang_StringBuilder, append_name, int_StringBuilder_signature,    F_R)   \
1145   do_intrinsic(_StringBuilder_append_String, java_lang_StringBuilder, append_name, String_StringBuilder_signature, F_R)   \
1146                                                                                                                           \
1147   do_intrinsic(_StringBuilder_toString, java_lang_StringBuilder, toString_name, void_string_signature,             F_R)   \
1148                                                                                                                           \
1149   do_intrinsic(_StringBuffer_void,   java_lang_StringBuffer, object_initializer_name, void_method_signature,       F_R)   \
1150   do_intrinsic(_StringBuffer_int,    java_lang_StringBuffer, object_initializer_name, int_void_signature,          F_R)   \
1151   do_intrinsic(_StringBuffer_String, java_lang_StringBuffer, object_initializer_name, string_void_signature,       F_R)   \
1152                                                                                                                           \
1153   do_intrinsic(_StringBuffer_append_char,   java_lang_StringBuffer, append_name, char_StringBuffer_signature,      F_Y)   \
1154   do_intrinsic(_StringBuffer_append_int,    java_lang_StringBuffer, append_name, int_StringBuffer_signature,       F_Y)   \
1155   do_intrinsic(_StringBuffer_append_String, java_lang_StringBuffer, append_name, String_StringBuffer_signature,    F_Y)   \
1156                                                                                                                           \
1157   do_intrinsic(_StringBuffer_toString,  java_lang_StringBuffer, toString_name, void_string_signature,              F_Y)   \
1158                                                                                                                           \
1159   do_intrinsic(_Integer_toString,      java_lang_Integer, toString_name, int_String_signature,                     F_S)   \
1160                                                                                                                           \
1161   do_intrinsic(_String_String, java_lang_String, object_initializer_name, string_void_signature,                   F_R)   \
1162                                                                                                                           \
1163   do_intrinsic(_Object_init,              java_lang_Object, object_initializer_name, void_method_signature,        F_R)   \
1164   /*    (symbol object_initializer_name defined above) */                                                                 \
1165                                                                                                                           \
1166   do_intrinsic(_invoke,                   java_lang_reflect_Method, invoke_name, object_object_array_object_signature, F_R) \
1167   /*   (symbols invoke_name and invoke_signature defined above) */                                                      \
1168   /* the polymorphic MH intrinsics must be in compact order, with _invokeGeneric first and _linkToInterface last */     \
1169   do_intrinsic(_invokeGeneric,            java_lang_invoke_MethodHandle, invoke_name,           star_name, F_RN)        \
1170   do_intrinsic(_invokeBasic,              java_lang_invoke_MethodHandle, invokeBasic_name,      star_name, F_RN)        \
1171   do_intrinsic(_linkToVirtual,            java_lang_invoke_MethodHandle, linkToVirtual_name,    star_name, F_SN)        \
1172   do_intrinsic(_linkToStatic,             java_lang_invoke_MethodHandle, linkToStatic_name,     star_name, F_SN)        \
1173   do_intrinsic(_linkToSpecial,            java_lang_invoke_MethodHandle, linkToSpecial_name,    star_name, F_SN)        \
1174   do_intrinsic(_linkToInterface,          java_lang_invoke_MethodHandle, linkToInterface_name,  star_name, F_SN)        \
1175   /* special marker for bytecode generated for the JVM from a LambdaForm: */                                            \
1176   do_intrinsic(_compiledLambdaForm,       java_lang_invoke_MethodHandle, compiledLambdaForm_name, star_name, F_RN)      \
1177                                                                                                                         \
1178   /* unboxing methods: */                                                                                               \
1179   do_intrinsic(_booleanValue,             java_lang_Boolean,      booleanValue_name, void_boolean_signature, F_R)       \
1180    do_name(     booleanValue_name,       "booleanValue")                                                                \
1181   do_intrinsic(_byteValue,                java_lang_Byte,         byteValue_name, void_byte_signature, F_R)             \
1182    do_name(     byteValue_name,          "byteValue")                                                                   \
1183   do_intrinsic(_charValue,                java_lang_Character,    charValue_name, void_char_signature, F_R)             \
1184    do_name(     charValue_name,          "charValue")                                                                   \
1185   do_intrinsic(_shortValue,               java_lang_Short,        shortValue_name, void_short_signature, F_R)           \
1186    do_name(     shortValue_name,         "shortValue")                                                                  \
1187   do_intrinsic(_intValue,                 java_lang_Integer,      intValue_name, void_int_signature, F_R)               \
1188    do_name(     intValue_name,           "intValue")                                                                    \
1189   do_intrinsic(_longValue,                java_lang_Long,         longValue_name, void_long_signature, F_R)             \
1190    do_name(     longValue_name,          "longValue")                                                                   \
1191   do_intrinsic(_floatValue,               java_lang_Float,        floatValue_name, void_float_signature, F_R)           \
1192    do_name(     floatValue_name,         "floatValue")                                                                  \
1193   do_intrinsic(_doubleValue,              java_lang_Double,       doubleValue_name, void_double_signature, F_R)         \
1194    do_name(     doubleValue_name,        "doubleValue")                                                                 \
1195                                                                                                                         \
1196   /* boxing methods: */                                                                                                 \
1197    do_name(    valueOf_name,              "valueOf")                                                                    \
1198   do_intrinsic(_Boolean_valueOf,          java_lang_Boolean,      valueOf_name, Boolean_valueOf_signature, F_S)         \
1199    do_name(     Boolean_valueOf_signature,                       "(Z)Ljava/lang/Boolean;")                              \
1200   do_intrinsic(_Byte_valueOf,             java_lang_Byte,         valueOf_name, Byte_valueOf_signature, F_S)            \
1201    do_name(     Byte_valueOf_signature,                          "(B)Ljava/lang/Byte;")                                 \
1202   do_intrinsic(_Character_valueOf,        java_lang_Character,    valueOf_name, Character_valueOf_signature, F_S)       \
1203    do_name(     Character_valueOf_signature,                     "(C)Ljava/lang/Character;")                            \
1204   do_intrinsic(_Short_valueOf,            java_lang_Short,        valueOf_name, Short_valueOf_signature, F_S)           \
1205    do_name(     Short_valueOf_signature,                         "(S)Ljava/lang/Short;")                                \
1206   do_intrinsic(_Integer_valueOf,          java_lang_Integer,      valueOf_name, Integer_valueOf_signature, F_S)         \
1207    do_name(     Integer_valueOf_signature,                       "(I)Ljava/lang/Integer;")                              \
1208   do_intrinsic(_Long_valueOf,             java_lang_Long,         valueOf_name, Long_valueOf_signature, F_S)            \
1209    do_name(     Long_valueOf_signature,                          "(J)Ljava/lang/Long;")                                 \
1210   do_intrinsic(_Float_valueOf,            java_lang_Float,        valueOf_name, Float_valueOf_signature, F_S)           \
1211    do_name(     Float_valueOf_signature,                         "(F)Ljava/lang/Float;")                                \
1212   do_intrinsic(_Double_valueOf,           java_lang_Double,       valueOf_name, Double_valueOf_signature, F_S)          \
1213    do_name(     Double_valueOf_signature,                        "(D)Ljava/lang/Double;")                               \
1214                                                                                                                         \
1215   /* forEachRemaining */                                                                             \
1216   do_intrinsic(_forEachRemaining, java_util_stream_StreamsRangeIntSpliterator, forEachRemaining_name, forEachRemaining_signature, F_R) \
1217    do_name(     forEachRemaining_name,    "forEachRemaining")                                                           \
1218    do_name(     forEachRemaining_signature,                      "(Ljava/util/function/IntConsumer;)V")                 \
1219 
1220     /*end*/
1221 
1222 
1223 
1224 
1225 // Class vmSymbols
1226 
1227 class vmSymbols: AllStatic {
1228   friend class vmIntrinsics;
1229   friend class VMStructs;
1230  public:
1231   // enum for figuring positions and size of array holding Symbol*s
1232   enum SID {
1233     NO_SID = 0,
1234 
1235     #define VM_SYMBOL_ENUM(name, string) VM_SYMBOL_ENUM_NAME(name),
1236     VM_SYMBOLS_DO(VM_SYMBOL_ENUM, VM_ALIAS_IGNORE)
1237     #undef VM_SYMBOL_ENUM
1238 
1239     SID_LIMIT,
1240 
1241     #define VM_ALIAS_ENUM(name, def) VM_SYMBOL_ENUM_NAME(name) = VM_SYMBOL_ENUM_NAME(def),
1242     VM_SYMBOLS_DO(VM_SYMBOL_IGNORE, VM_ALIAS_ENUM)
1243     #undef VM_ALIAS_ENUM
1244 
1245     FIRST_SID = NO_SID + 1
1246   };
1247   enum {
1248     log2_SID_LIMIT = 10         // checked by an assert at start-up
1249   };
1250 
1251  private:
1252   // The symbol array
1253   static Symbol* _symbols[];
1254 
1255   // Field signatures indexed by BasicType.
1256   static Symbol* _type_signatures[T_VOID+1];
1257 
1258  public:
1259   // Initialization
1260   static void initialize(TRAPS);
1261   // Accessing
1262   #define VM_SYMBOL_DECLARE(name, ignore)                 \
1263     static Symbol* name() {                               \
1264       return _symbols[VM_SYMBOL_ENUM_NAME(name)];         \
1265     }
1266   VM_SYMBOLS_DO(VM_SYMBOL_DECLARE, VM_SYMBOL_DECLARE)
1267   #undef VM_SYMBOL_DECLARE
1268 
1269   // Sharing support
1270   static void symbols_do(SymbolClosure* f);
1271   static void serialize(SerializeClosure* soc);
1272 
1273   static Symbol* type_signature(BasicType t) {
1274     assert((uint)t &lt; T_VOID+1, "range check");
1275     assert(_type_signatures[t] != NULL, "domain check");
1276     return _type_signatures[t];
1277   }
1278   // inverse of type_signature; returns T_OBJECT if s is not recognized
1279   static BasicType signature_type(Symbol* s);
1280 
1281   static Symbol* symbol_at(SID id) {
1282     assert(id &gt;= FIRST_SID &amp;&amp; id &lt; SID_LIMIT, "oob");
1283     assert(_symbols[id] != NULL, "init");
1284     return _symbols[id];
1285   }
1286 
1287   // Returns symbol's SID if one is assigned, else NO_SID.
1288   static SID find_sid(Symbol* symbol);
1289   static SID find_sid(const char* symbol_name);
1290 
1291 #ifndef PRODUCT
1292   // No need for this in the product:
1293   static const char* name_for(SID sid);
1294 #endif //PRODUCT
1295 };
1296 
1297 // VM Intrinsic ID's uniquely identify some very special methods
1298 class vmIntrinsics: AllStatic {
1299   friend class vmSymbols;
1300   friend class ciObjectFactory;
1301 
1302  public:
1303   // Accessing
1304   enum ID {
1305     _none = 0,                      // not an intrinsic (default answer)
1306 
1307     #define VM_INTRINSIC_ENUM(id, klass, name, sig, flags)  id,
1308     VM_INTRINSICS_DO(VM_INTRINSIC_ENUM,
1309                      VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE)
1310     #undef VM_INTRINSIC_ENUM
1311 
1312     ID_LIMIT,
1313     LAST_COMPILER_INLINE = _getAndSetObject,
1314     FIRST_MH_SIG_POLY    = _invokeGeneric,
1315     FIRST_MH_STATIC      = _linkToVirtual,
1316     LAST_MH_SIG_POLY     = _linkToInterface,
1317 
1318     FIRST_ID = _none + 1
1319   };
1320 
1321   enum Flags {
1322     // AccessFlags syndromes relevant to intrinsics.
1323     F_none = 0,
1324     F_R,                        // !static ?native !synchronized (R="regular")
1325     F_S,                        //  static ?native !synchronized
1326     F_Y,                        // !static ?native  synchronized
1327     F_RN,                       // !static  native !synchronized
1328     F_SN,                       //  static  native !synchronized
1329     F_RNY,                      // !static  native  synchronized
1330 
1331     FLAG_LIMIT
1332   };
1333   enum {
1334     log2_FLAG_LIMIT = 4         // checked by an assert at start-up
1335   };
1336 
1337 public:
1338   static ID ID_from(int raw_id) {
1339     assert(raw_id &gt;= (int)_none &amp;&amp; raw_id &lt; (int)ID_LIMIT,
1340            "must be a valid intrinsic ID");
1341     return (ID)raw_id;
1342   }
1343 
1344   static const char* name_at(ID id);
1345 
1346 private:
1347   static ID find_id_impl(vmSymbols::SID holder,
1348                          vmSymbols::SID name,
1349                          vmSymbols::SID sig,
1350                          jshort flags);
1351 
1352 public:
1353   // Given a method's class, name, signature, and access flags, report its ID.
1354   static ID find_id(vmSymbols::SID holder,
1355                     vmSymbols::SID name,
1356                     vmSymbols::SID sig,
1357                     jshort flags) {
1358     ID id = find_id_impl(holder, name, sig, flags);
1359 #ifdef ASSERT
1360     // ID _none does not hold the following asserts.
1361     if (id == _none)  return id;
1362 #endif
1363     assert(    class_for(id) == holder, "correct id");
1364     assert(     name_for(id) == name,   "correct id");
1365     assert(signature_for(id) == sig,    "correct id");
1366     return id;
1367   }
1368 
1369   static void verify_method(ID actual_id, Method* m) PRODUCT_RETURN;
1370 
1371   // Find out the symbols behind an intrinsic:
1372   static vmSymbols::SID     class_for(ID id);
1373   static vmSymbols::SID      name_for(ID id);
1374   static vmSymbols::SID signature_for(ID id);
1375   static Flags              flags_for(ID id);
1376 
1377   static const char* short_name_as_C_string(ID id, char* buf, int size);
1378 
1379   // Wrapper object methods:
1380   static ID for_boxing(BasicType type);
1381   static ID for_unboxing(BasicType type);
1382 
1383   // Raw conversion:
1384   static ID for_raw_conversion(BasicType src, BasicType dest);
1385 
1386   // The methods below provide information related to compiling intrinsics.
1387 
1388   // (1) Information needed by the C1 compiler.
1389 
1390   static bool preserves_state(vmIntrinsics::ID id);
1391   static bool can_trap(vmIntrinsics::ID id);
1392 
1393   // (2) Information needed by the C2 compiler.
1394 
1395   // Returns true if the intrinsic for method 'method' will perform a virtual dispatch.
1396   static bool does_virtual_dispatch(vmIntrinsics::ID id);
1397   // A return value larger than 0 indicates that the intrinsic for method
1398   // 'method' requires predicated logic.
1399   static int predicates_needed(vmIntrinsics::ID id);
1400 
1401   // Returns true if a compiler intrinsic is disabled by command-line flags
1402   // and false otherwise.
1403   static bool is_disabled_by_flags(methodHandle method, methodHandle compilation_context);
1404 };
1405 
1406 #endif // SHARE_VM_CLASSFILE_VMSYMBOLS_HPP
</pre></body></html>
